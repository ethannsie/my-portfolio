<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://www.glowscript.org/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://www.glowscript.org/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/glow.3.2.min.js"></script>
<script type="text/javascript" src="https://www.glowscript.org/package/RSrun.3.2.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT
;(function() {;
var ρσ_modules = {};
var is_running, junctionList, kvlLoops, junctionHighlight, wireHighlight, allWires, actualAllWires, wireCounter, initial_circuit, dimension, sideLength, allCircuitLoops, totalWire, arrows, allJunctions, highlightBoxes, circuitBuild, wireHighlightLabels, extractedCurrents, allEMF, allResistors, wireLabels, specialMode, C1, C2, dielectric, wire_top, wire_bottom, switch_arm, a1, l1, a2, l2, a3, l3, plate_area, plate_sep, R, C, V, scene1, switch_closed, charge_curve, current_curve, voltage_curve, voltage_curve_r, current_curve_r;
ρσ_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = ρσ_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var ρσ_Iter0 = string_funcs;
        ρσ_Iter0 = ((typeof ρσ_Iter0[Symbol.iterator] === "function") ? (ρσ_Iter0 instanceof Map ? ρσ_Iter0.keys() : ρσ_Iter0) : Object.keys(ρσ_Iter0));
        for (var ρσ_Index0 of ρσ_Iter0) {
            name = ρσ_Index0;
            (ρσ_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name] = (ρσ_expr_temp = ρσ_str.prototype)[(typeof name === "number" && name < 0) ? ρσ_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    ρσ_modules.pythonize.strings = strings;
})();
async function __main__() {
"use strict";
    var display = canvas;
    var scene = canvas();

    function round(num, n=0) {return Number(num.toFixed(n))}
    fontloading();
    await waitforfonts();

    var version, print, arange, __name__, type, ρσ_ls, scene, img_url, is_running, circuitBuild, specialMode, allCircuitLoops, junctionList, allJunctions, junctionHighlight, wireHighlight, wireHighlightLabels, allWires, actualAllWires, wireCounter, wireLabels, initial_circuit, arrows, gridLength, dimension, sideLength, highlightBoxes, kvlLoops, allResistors, allEMF, line, min_val, max_val, my_slider, val_text, scene1, C1, C2, dielectric, wire_top, wire_bottom, plate_area, plate_sep, grid, switch_closed, switch_wire, switch_gap, switch_arm, a1, l1, a2, l2, a3, l3, R, C, V, voltage_curve, current_curve, charge_curve, voltage_curve_r, current_curve_r, slider_area, plate_sep_slider;
    version = ρσ_list_decorate([ "3.2", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    var strings = ρσ_modules.pythonize.strings;

    strings();
    "2";
    scene = ρσ_interpolate_kwargs.call(this, canvas, [ρσ_desugar_kwargs({width: 1250, height: 400})]);
    "5";
    scene.userspin = false;
    "6";
    scene.camera.pos = vec(1["-u"]()["*"](.486395), 610.798, 387329e-9);
    "7";
    scene.camera.axis = vec(.486395, 1["-u"]()["*"](610.798), 1["-u"]()["*"](387329e-9));
    "9";
    img_url = "https://i.imgur.com/2EUXcR2.jpeg";
    "10";
    img_url = "https://i.imgur.com/EIx2SYP.jpeg";
    "11";
    img_url = "https://i.imgur.com/d0Ttm7l.jpeg";
    "14";
    is_running = false;
    "15";
    circuitBuild = true;
    "16";
    specialMode = false;
    "17";
    allCircuitLoops = ρσ_list_decorate([]);
    "19";
    junctionList = ρσ_list_decorate([]);
    "20";
    allJunctions = ρσ_list_decorate([]);
    "21";
    junctionHighlight = ρσ_list_decorate([]);
    "23";
    wireHighlight = ρσ_list_decorate([]);
    "24";
    wireHighlightLabels = ρσ_list_decorate([]);
    "25";
    allWires = ρσ_list_decorate([]);
    "26";
    actualAllWires = ρσ_list_decorate([]);
    "28";
    wireCounter = 1;
    "30";
    wireLabels = ρσ_list_decorate([]);
    "31";
    initial_circuit = ρσ_list_decorate([]);
    "32";
    arrows = ρσ_list_decorate([]);
    "33";
    gridLength = 1;
    "34";
    dimension = 10;
    "35";
    sideLength = 20;
    "44";
    highlightBoxes = ρσ_list_decorate([]);
    "45";
    kvlLoops = ρσ_list_decorate([]);
    "47";
    allResistors = ρσ_list_decorate([]);
    "48";
    allEMF = ρσ_list_decorate([]);
    "61";
    async function euler() {
        var ρσ_ls, n, e;
        "62";
        n = 1e7;
        "63";
        e = Math.pow((1["+"](1["/"](n))), n);
        "64";
        return e;
    };
    if (!euler.__module__) Object.defineProperties(euler, {
        __module__ : {value: null}
    });

    "66";
    async function draw_resistor(wire, orientation) {
        var ρσ_ls, center, l, h, start, end, resistor, i;
        "67";
        center = wire.pos;
        "68";
        l = wire.length["*"](.6);
        "69";
        h = wire.height["*"](.2);
        "71";
        if ((orientation === "x" || typeof orientation === "object" && ρσ_equals(orientation, "x"))) {
            "72";
            for (var ρσ_Index1 = 0; ρσ_Index1["<"](5); ρσ_Index1++) {
                i = ρσ_Index1;
                "73";
                start = vector(center.x["-"](1["*"](l)["/"](2))["+"](i["*"](l)["/"](4)), center.y["+"](wire.height["/"](2))["+"](h), center.z);
                "74";
                end = vector(center.x["-"](1["*"](l)["/"](2))["+"](i["+"](1)["*"](l)["/"](4)), center.y["+"](wire.height["/"](2))["+"]((ρσ_equals(i["%"](2), 1)) ? h : 1["-u"]()["*"](h)), center.z);
                "75";
                resistor = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: start, axis: end["-"](1["*"](start)), radius: wire.width["*"](.075), color: color.orange})]);
                "76";
                resistor.center = center;
                "77";
                allResistors.append(resistor);
                "78";
            }
        } else if ((orientation === "z" || typeof orientation === "object" && ρσ_equals(orientation, "z"))) {
            "79";
            for (var ρσ_Index2 = 0; ρσ_Index2["<"](5); ρσ_Index2++) {
                i = ρσ_Index2;
                "80";
                start = vector(center.x, center.y["+"](wire.height["/"](2))["+"](h), center.z["-"](1["*"](l)["/"](2))["+"](i["*"](l)["/"](4)));
                "81";
                end = vector(center.x, center.y["+"](wire.height["/"](2))["+"]((ρσ_equals(i["%"](2), 1)) ? h : 1["-u"]()["*"](h)), center.z["-"](1["*"](l)["/"](2))["+"](i["+"](1)["*"](l)["/"](4)));
                "82";
                resistor = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: start, axis: end["-"](1["*"](start)), radius: wire.width["*"](.075), color: color.orange})]);
                "83";
                resistor.center = center;
                "84";
                allResistors.append(resistor);
            }
        }
    };
    if (!draw_resistor.__argnames__) Object.defineProperties(draw_resistor, {
        __argnames__ : {value: ["wire", "orientation"]},
        __module__ : {value: null}
    });

    "86";
    async function draw_emf(block, emfDirection, orientation) {
        var ρσ_ls, center, offset, emf1, emf2;
        "87";
        center = block.pos;
        "88";
        offset = block.length["*"](.15);
        "89";
        if ((orientation === "x" || typeof orientation === "object" && ρσ_equals(orientation, "x"))) {
            "90";
            if ((emfDirection === "posToNeg" || typeof emfDirection === "object" && ρσ_equals(emfDirection, "posToNeg"))) {
                "92";
                emf1 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x["-"](1["*"](offset)), center.y["+"](block.height["/"](2))["+"](1), center.z), axis: vector(.15["*"](block.length), 0, 0), radius: block.width["*"](.1), color: color.red})]);
                "94";
                emf1.center = center;
                "96";
                emf2 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x["+"](offset), center.y["+"](block.height["/"](2))["+"](1), center.z), axis: vector(.05["*"](block.length), 0, 0), radius: block.width["*"](.1), color: color.black})]);
                "98";
                allEMF.append(ρσ_list_decorate([ emf1, emf2 ]));
                "99";
            } else {
                "100";
                emf1 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x["+"](offset), center.y["+"](block.height["/"](2))["+"](1), center.z), axis: vector(.15["*"](block.length), 0, 0), radius: block.width["*"](.1), color: color.red})]);
                "102";
                emf1.center = center;
                "104";
                emf2 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x["-"](1["*"](offset)), center.y["+"](block.height["/"](2))["+"](1), center.z), axis: vector(.05["*"](block.length), 0, 0), radius: block.width["*"](.1), color: color.black})]);
                "106";
                allEMF.append(ρσ_list_decorate([ emf1, emf2 ]));
                "107";
            }
        } else if ((orientation === "z" || typeof orientation === "object" && ρσ_equals(orientation, "z"))) {
            "108";
            if ((emfDirection === "posToNeg" || typeof emfDirection === "object" && ρσ_equals(emfDirection, "posToNeg"))) {
                "109";
                emf1 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x, center.y["+"](block.height["/"](2))["+"](1), center.z["-"](1["*"](offset))), axis: vector(0, 0, .15["*"](block.length)), radius: block.width["*"](.1), color: color.red})]);
                "111";
                emf1.center = center;
                "112";
                emf2 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x, center.y["+"](block.height["/"](2))["+"](1), center.z["+"](offset)), axis: vector(0, 0, .05["*"](block.length)), radius: block.width["*"](.1), color: color.black})]);
                "114";
                allEMF.append(ρσ_list_decorate([ emf1, emf2 ]));
                "115";
            } else {
                "116";
                emf1 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x, center.y["+"](block.height["/"](2))["+"](1), center.z["+"](offset)), axis: vector(0, 0, .15["*"](block.length)), radius: block.width["*"](.1), color: color.red})]);
                "118";
                emf2 = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: vector(center.x, center.y["+"](block.height["/"](2))["+"](1), center.z["-"](1["*"](offset))), axis: vector(0, 0, .05["*"](block.length)), radius: block.width["*"](.1), color: color.black})]);
                "120";
                emf1.center = center;
                "121";
                allEMF.append(ρσ_list_decorate([ emf1, emf2 ]));
            }
        }
    };
    if (!draw_emf.__argnames__) Object.defineProperties(draw_emf, {
        __argnames__ : {value: ["block", "emfDirection", "orientation"]},
        __module__ : {value: null}
    });

    "123";
    async function draw_wire() {
        var wire = ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[0];
        var orientation = (arguments[1] === undefined || ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? draw_wire.__defaults__.orientation : arguments[1];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "orientation")){
            orientation = ρσ_kwargs_obj.orientation;
        }
        var ρσ_ls, center, offset, length, radius, axis, pos, word;
        "124";
        center = wire.pos;
        "125";
        offset = wire.height["/"](2)["+"](1);
        "126";
        length = wire.length["*"](.8);
        "127";
        radius = wire.width["*"](.05);
        "129";
        if ((orientation === "x" || typeof orientation === "object" && ρσ_equals(orientation, "x"))) {
            "130";
            axis = vector(length, 0, 0);
            "131";
            pos = vector(center.x["-"](1["*"](length)["/"](2)), center.y["+"](offset), center.z);
            "133";
        } else if ((orientation === "z" || typeof orientation === "object" && ρσ_equals(orientation, "z"))) {
            "134";
            axis = vector(0, 0, length);
            "135";
            pos = vector(center.x, center.y["+"](offset), center.z["-"](1["*"](length)["/"](2)));
        }
        "137";
        word = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({canvas: scene, pos: pos, axis: axis, radius: radius, color: color.gray(.5)})]);
        "138";
        word.center = center;
        "139";
        allWires.append(word);
    };
    if (!draw_wire.__defaults__) Object.defineProperties(draw_wire, {
        __defaults__ : {value: {orientation:"x"}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["wire", "orientation"]},
        __module__ : {value: null}
    });

    "141";
    async function create_initial_circuit() {
        var ρσ_ls, directionToVector, wire, highlight, totalWire, arro, i;
        "142";
        "143";
        "144";
        "145";
        "146";
        "147";
        "148";
        "149";
        "151";
        if (is_running || len(junctionList)[">"](0)) {
            "152";
            return;
        }
        "153";
        is_running = true;
        "154";
        try {
            "155";
            "156";
            "157";
            "158";
            "160";
            directionToVector = (function(){
                var ρσ_d = ρσ_dict();
                ρσ_d.set("x", vec(1, 0, 0));
                ρσ_d.set("-x", vec(1["-u"]()["*"](1), 0, 0));
                ρσ_d.set("z", vec(0, 0, 1));
                ρσ_d.set("-z", vec(0, 0, 1["-u"]()["*"](1)));
                return ρσ_d;
            }).call(this);
            "162";
            wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)), length: sideLength, width: sideLength, height: sideLength, color: vector(.45, .8, .75)})]);
            "163";
            wire.element = "Junction Wire";
            "164";
            wire.extend = "LEFT";
            "165";
            junctionList.append(wire);
            "166";
            allJunctions.append(wire);
            "168";
            highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: vector(.4, .7, 1), opacity: .6})]);
            "169";
            highlight.visible = false;
            "170";
            junctionHighlight.append(highlight);
            "172";
            wire.directionIn = ρσ_list_decorate([ "-z" ]);
            "173";
            wire.directionOut = ρσ_list_decorate([ "x" ]);
            "174";
            initial_circuit.append(wire);
            "176";
            totalWire = ρσ_list_decorate([]);
            "178";
            for (var ρσ_Index3 = 0; ρσ_Index3["<"](dimension["-"](1["*"](2))); ρσ_Index3++) {
                i = ρσ_Index3;
                "179";
                wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](i["+"](1))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)), length: sideLength, width: sideLength, height: sideLength, color: color.white})]);
                "180";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "181";
                    wire.element = "Resistor";
                    "182";
                    wire.resistance = 2;
                    "183";
                    (await draw_resistor(wire, "x"));
                    "184";
                }
                if ((i === 1 || typeof i === "object" && ρσ_equals(i, 1))) {
                    "185";
                    wire.element = "EMF";
                    "186";
                    wire.flow = "posToNeg";
                    "187";
                    wire.voltage = 10;
                    "188";
                    (await draw_emf(wire, "posToNeg", "x"));
                    "189";
                }
                if (i[">"](1)) {
                    "190";
                    wire.element = "Wire";
                    "191";
                    (await draw_wire(wire));
                }
                "192";
                wire.directionIn = ρσ_list_decorate([ "x" ]);
                "193";
                wire.directionOut = ρσ_list_decorate([ "x" ]);
                "194";
                wire.wir = wireCounter;
                "195";
                initial_circuit.append(wire);
                "196";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "197";
                    arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(wire.pos.x, wire.pos.y, wire.pos.z["+"](sideLength)), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(wire.directionIn, 0))), color: vector(.21, .82, .85)})]);
                    "198";
                    arro.visible = false;
                    "199";
                    kvlLoops.append(arro);
                }
                "200";
                totalWire.append(wire);
                "202";
                highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.125), width: sideLength["*"](1.125), height: sideLength["*"](1.125), color: vector(.8, .65, 1), opacity: .6})]);
                "203";
                highlight.visible = false;
                "204";
                wireHighlight.append(highlight);
            }
            "206";
            wireCounter=wireCounter["+"](1);
            "207";
            actualAllWires.append(totalWire);
            "208";
            allWires.append(totalWire);
            "210";
            wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1)))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)), length: sideLength, width: sideLength, height: sideLength, color: vector(.45, .8, .75)})]);
            "211";
            wire.element = "Junction Wire";
            "212";
            wire.extend = "UP";
            "213";
            highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: vector(.4, .7, 1), opacity: .6})]);
            "214";
            highlight.visible = false;
            "215";
            junctionHighlight.append(highlight);
            "216";
            junctionList.append(wire);
            "217";
            allJunctions.append(wire);
            "218";
            wire.directionIn = ρσ_list_decorate([ "x" ]);
            "219";
            wire.directionOut = ρσ_list_decorate([ "z" ]);
            "220";
            initial_circuit.append(wire);
            "222";
            totalWire = ρσ_list_decorate([]);
            "223";
            for (var ρσ_Index4 = 0; ρσ_Index4["<"](dimension["-"](1["*"](2))); ρσ_Index4++) {
                i = ρσ_Index4;
                "224";
                wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1)))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](i["+"](1)["*"](sideLength))), length: sideLength, width: sideLength, height: sideLength, color: color.white})]);
                "225";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "226";
                    wire.element = "Resistor";
                    "227";
                    wire.resistance = 2;
                    "228";
                    (await draw_resistor(wire, "z"));
                    "229";
                }
                if (i[">"](0)) {
                    "230";
                    wire.element = "Wire";
                    "231";
                    (await draw_wire(wire, "z"));
                }
                "232";
                wire.directionIn = ρσ_list_decorate([ "z" ]);
                "233";
                wire.directionOut = ρσ_list_decorate([ "z" ]);
                "234";
                wire.wir = wireCounter;
                "235";
                initial_circuit.append(wire);
                "236";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "237";
                    arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(wire.pos.x["-"](1["*"](sideLength)), wire.pos.y, wire.pos.z), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(wire.directionIn, 0))), color: vector(.21, .82, .85)})]);
                    "238";
                    arro.visible = false;
                    "239";
                    kvlLoops.append(arro);
                }
                "241";
                highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.125), width: sideLength["*"](1.125), height: sideLength["*"](1.125), color: vector(.8, .65, 1), opacity: .6})]);
                "242";
                highlight.visible = false;
                "243";
                wireHighlight.append(highlight);
                "245";
                totalWire.append(wire);
            }
            "247";
            wireCounter=wireCounter["+"](1);
            "248";
            allWires.append(totalWire);
            "249";
            actualAllWires.append(totalWire);
            "251";
            wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1)))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](dimension["-"](1["*"](1))["*"](sideLength))), length: sideLength, width: sideLength, height: sideLength, color: vector(.45, .8, .75)})]);
            "252";
            wire.element = "Junction Wire";
            "253";
            wire.extend = "RIGHT";
            "254";
            junctionList.append(wire);
            "255";
            highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: vector(.4, .7, 1), opacity: .6})]);
            "256";
            highlight.visible = false;
            "257";
            junctionHighlight.append(highlight);
            "258";
            allJunctions.append(wire);
            "259";
            wire.directionIn = ρσ_list_decorate([ "z" ]);
            "260";
            wire.directionOut = ρσ_list_decorate([ "-x" ]);
            "261";
            initial_circuit.append(wire);
            "263";
            totalWire = ρσ_list_decorate([]);
            "264";
            for (var ρσ_Index5 = 0; ρσ_Index5["<"](dimension["-"](1["*"](2))); ρσ_Index5++) {
                i = ρσ_Index5;
                "265";
                wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1))))["-"](1["*"](sideLength)["*"](i["+"](1))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](dimension["-"](1["*"](1))["*"](sideLength))), length: sideLength, width: sideLength, height: sideLength, color: color.white})]);
                "266";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "267";
                    wire.element = "Resistor";
                    "268";
                    wire.resistance = 2;
                    "269";
                    (await draw_resistor(wire, "x"));
                    "270";
                }
                if (i[">"](0)) {
                    "271";
                    wire.element = "Wire";
                    "272";
                    (await draw_wire(wire));
                }
                "273";
                wire.directionIn = ρσ_list_decorate([ "-x" ]);
                "274";
                wire.directionOut = ρσ_list_decorate([ "-x" ]);
                "275";
                wire.wir = wireCounter;
                "276";
                initial_circuit.append(wire);
                "277";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "278";
                    arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(wire.pos.x, wire.pos.y, wire.pos.z["-"](1["*"](sideLength))), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(wire.directionIn, 0))), color: vector(.21, .82, .85)})]);
                    "279";
                    arro.visible = false;
                    "280";
                    kvlLoops.append(arro);
                }
                "282";
                highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.125), width: sideLength["*"](1.125), height: sideLength["*"](1.125), color: vector(.8, .65, 1), opacity: .6})]);
                "283";
                highlight.visible = false;
                "284";
                wireHighlight.append(highlight);
                "286";
                totalWire.append(wire);
            }
            "288";
            wireCounter=wireCounter["+"](1);
            "289";
            allWires.append(totalWire);
            "290";
            actualAllWires.append(totalWire);
            "292";
            wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1))))["-"](1["*"](sideLength)["*"](dimension["-"](1["*"](1)))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](dimension["-"](1["*"](1))["*"](sideLength))), length: sideLength, width: sideLength, height: sideLength, color: vector(.45, .8, .75)})]);
            "293";
            wire.element = "Junction Wire";
            "294";
            wire.extend = "DOWN";
            "295";
            junctionList.append(wire);
            "296";
            allJunctions.append(wire);
            "297";
            highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: vector(.4, .7, 1), opacity: .6})]);
            "298";
            highlight.visible = false;
            "299";
            junctionHighlight.append(highlight);
            "300";
            wire.directionIn = ρσ_list_decorate([ "-x" ]);
            "301";
            wire.directionOut = ρσ_list_decorate([ "-z" ]);
            "302";
            initial_circuit.append(wire);
            "304";
            totalWire = ρσ_list_decorate([]);
            "305";
            for (var ρσ_Index6 = 0; ρσ_Index6["<"](dimension["-"](1["*"](2))); ρσ_Index6++) {
                i = ρσ_Index6;
                "306";
                wire = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: vector(1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](sideLength["*"](dimension["-"](1["*"](1))))["-"](1["*"](sideLength)["*"](dimension["-"](1["*"](1)))), 0, 1["-u"]()["*"](dimension["-"](1["*"](1)))["/"](2)["*"](sideLength)["+"](dimension["-"](1["*"](1))["*"](sideLength))["-"](1["*"](i["+"](1))["*"](sideLength))), length: sideLength, width: sideLength, height: sideLength, color: color.white})]);
                "307";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "308";
                    wire.element = "Resistor";
                    "309";
                    wire.resistance = 2;
                    "310";
                    (await draw_resistor(wire, "z"));
                    "311";
                }
                if (i[">"](0)) {
                    "312";
                    wire.element = "Wire";
                    "313";
                    (await draw_wire(wire, "z"));
                }
                "314";
                wire.directionIn = ρσ_list_decorate([ "-z" ]);
                "315";
                wire.directionOut = ρσ_list_decorate([ "-z" ]);
                "316";
                wire.wir = wireCounter;
                "317";
                initial_circuit.append(wire);
                "318";
                if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                    "319";
                    arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(wire.pos.x["+"](sideLength), wire.pos.y, wire.pos.z), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(wire.directionIn, 0))), color: vector(.21, .82, .85)})]);
                    "320";
                    arro.visible = false;
                    "321";
                    kvlLoops.append(arro);
                }
                "322";
                highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos, length: sideLength["*"](1.125), width: sideLength["*"](1.125), height: sideLength["*"](1.125), color: vector(.8, .65, 1), opacity: .6})]);
                "323";
                highlight.visible = false;
                "324";
                wireHighlight.append(highlight);
                "326";
                totalWire.append(wire);
            }
            "327";
            wireCounter=wireCounter["+"](1);
            "328";
            allWires.append(totalWire);
            "329";
            actualAllWires.append(totalWire);
            "332";
            allCircuitLoops.append(initial_circuit);
            "334";
            (await drawExtensionArrows());
            "335";
        } finally {
            "336";
            is_running = false;
        }
    };
    if (!create_initial_circuit.__module__) Object.defineProperties(create_initial_circuit, {
        __module__ : {value: null}
    });

    "338";
    async function add_block_segment() {
        var start_pos = ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[0];
        var direction = ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[1];
        var dimension = ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[2];
        var sideLength = ( 3 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true) ? undefined : arguments[3];
        var label_color = (arguments[4] === undefined || ( 4 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? add_block_segment.__defaults__.label_color : arguments[4];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "label_color")){
            label_color = ρσ_kwargs_obj.label_color;
        }
        var ρσ_ls, blocks, direction_vector, directionToVector, pos, block, highlight, arro, i;
        "339";
        blocks = ρσ_list_decorate([]);
        "340";
        "341";
        "342";
        "343";
        "344";
        "346";
        direction_vector = ρσ_getitem((function(){
            var ρσ_d = ρσ_dict();
            ρσ_d.set("UP", vector(1, 0, 0));
            ρσ_d.set("DOWN", vector(1["-u"]()["*"](1), 0, 0));
            ρσ_d.set("LEFT", vector(0, 0, 1["-u"]()["*"](1)));
            ρσ_d.set("RIGHT", vector(0, 0, 1));
            return ρσ_d;
        }).call(this), direction);
        "353";
        directionToVector = (function(){
            var ρσ_d = ρσ_dict();
            ρσ_d.set("x", vec(1, 0, 0));
            ρσ_d.set("-x", vec(1["-u"]()["*"](1), 0, 0));
            ρσ_d.set("z", vec(0, 0, 1));
            ρσ_d.set("-z", vec(0, 0, 1["-u"]()["*"](1)));
            return ρσ_d;
        }).call(this);
        "355";
        totalWire = ρσ_list_decorate([]);
        "356";
        for (var ρσ_Index7 = 0; ρσ_Index7["<"](dimension["-"](1["*"](2))); ρσ_Index7++) {
            i = ρσ_Index7;
            "357";
            pos = start_pos["+"](i["*"](sideLength)["*"](direction_vector));
            "358";
            block = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: pos, length: sideLength, width: sideLength, height: sideLength, color: color.white})]);
            "359";
            highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos, length: sideLength["*"](1.125), width: sideLength["*"](1.125), height: sideLength["*"](1.125), color: vector(.8, .65, 1), opacity: .6})]);
            "360";
            highlight.visible = false;
            "361";
            wireHighlight.append(highlight);
            "362";
            block.wir = wireCounter;
            "363";
            totalWire.append(block);
            "365";
            if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                "366";
                block.element = "Resistor";
                "367";
                block.resistance = 2;
                "368";
                if ((direction === "UP" || typeof direction === "object" && ρσ_equals(direction, "UP")) || (direction === "DOWN" || typeof direction === "object" && ρσ_equals(direction, "DOWN"))) {
                    "369";
                    (await draw_resistor(block, "x"));
                    "370";
                    if ((direction === "UP" || typeof direction === "object" && ρσ_equals(direction, "UP"))) {
                        "371";
                        block.directionIn = ρσ_list_decorate([ "x" ]);
                        "372";
                        block.directionOut = ρσ_list_decorate([ "x" ]);
                        "373";
                        arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(block.pos.x, block.pos.y, block.pos.z["+"](sideLength)), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(block.directionIn, 0))), color: vector(.21, .82, .85)})]);
                        "374";
                        arro.visible = false;
                        "375";
                        kvlLoops.append(arro);
                        "376";
                    } else {
                        "377";
                        block.directionIn = ρσ_list_decorate([ "-x" ]);
                        "378";
                        block.directionOut = ρσ_list_decorate([ "-x" ]);
                        "379";
                        arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(block.pos.x, block.pos.y, block.pos.z["-"](1["*"](sideLength))), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(block.directionIn, 0))), color: vector(.21, .82, .85)})]);
                        "380";
                        arro.visible = false;
                        "381";
                        kvlLoops.append(arro);
                        "382";
                    }
                } else if ((direction === "RIGHT" || typeof direction === "object" && ρσ_equals(direction, "RIGHT")) || (direction === "LEFT" || typeof direction === "object" && ρσ_equals(direction, "LEFT"))) {
                    "383";
                    (await draw_resistor(block, "z"));
                    "384";
                    if ((direction === "RIGHT" || typeof direction === "object" && ρσ_equals(direction, "RIGHT"))) {
                        "385";
                        block.directionIn = ρσ_list_decorate([ "z" ]);
                        "386";
                        block.directionOut = ρσ_list_decorate([ "z" ]);
                        "387";
                        arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(block.pos.x["-"](1["*"](sideLength)), block.pos.y, block.pos.z), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(block.directionIn, 0))), color: vector(.21, .82, .85)})]);
                        "388";
                        arro.visible = false;
                        "389";
                        kvlLoops.append(arro);
                        "390";
                    } else {
                        "391";
                        block.directionIn = ρσ_list_decorate([ "-z" ]);
                        "392";
                        block.directionOut = ρσ_list_decorate([ "-z" ]);
                        "393";
                        arro = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, shaftwidth: sideLength["/"](3), pos: vector(block.pos.x["+"](sideLength), block.pos.y, block.pos.z), axis: dimension["-"](1["*"](3))["*"](sideLength)["*"](ρσ_getitem(directionToVector, ρσ_getitem(block.directionIn, 0))), color: vector(.21, .82, .85)})]);
                        "394";
                        arro.visible = false;
                        "395";
                        kvlLoops.append(arro);
                        "396";
                    }
                }
            } else {
                "397";
                block.element = "Wire";
                "398";
                if ((direction === "UP" || typeof direction === "object" && ρσ_equals(direction, "UP")) || (direction === "DOWN" || typeof direction === "object" && ρσ_equals(direction, "DOWN"))) {
                    "399";
                    (await draw_wire(block, "x"));
                    "400";
                    if ((direction === "UP" || typeof direction === "object" && ρσ_equals(direction, "UP"))) {
                        "401";
                        block.directionIn = ρσ_list_decorate([ "x" ]);
                        "402";
                        block.directionOut = ρσ_list_decorate([ "x" ]);
                        "403";
                    } else {
                        "404";
                        block.directionIn = ρσ_list_decorate([ "-x" ]);
                        "405";
                        block.directionOut = ρσ_list_decorate([ "-x" ]);
                        "406";
                    }
                } else if ((direction === "RIGHT" || typeof direction === "object" && ρσ_equals(direction, "RIGHT")) || (direction === "LEFT" || typeof direction === "object" && ρσ_equals(direction, "LEFT"))) {
                    "407";
                    (await draw_wire(block, "z"));
                    "408";
                    if ((direction === "RIGHT" || typeof direction === "object" && ρσ_equals(direction, "RIGHT"))) {
                        "409";
                        block.directionIn = ρσ_list_decorate([ "z" ]);
                        "410";
                        block.directionOut = ρσ_list_decorate([ "z" ]);
                        "411";
                    } else {
                        "412";
                        block.directionIn = ρσ_list_decorate([ "-z" ]);
                        "413";
                        block.directionOut = ρσ_list_decorate([ "-z" ]);
                    }
                }
            }
            "418";
            blocks.append(block);
        }
        "419";
        wireCounter=wireCounter["+"](1);
        "420";
        allWires.append(totalWire);
        "421";
        actualAllWires.append(totalWire);
        "423";
        return blocks;
    };
    if (!add_block_segment.__defaults__) Object.defineProperties(add_block_segment, {
        __defaults__ : {value: {label_color:color.green}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["start_pos", "direction", "dimension", "sideLength", "label_color"]},
        __module__ : {value: null}
    });

    "426";
    async function checkBlockExists(check_pos) {
        var ρσ_ls, block, loop;
        "427";
        "429";
        var ρσ_Iter8 = allCircuitLoops;
        ρσ_Iter8 = ((typeof ρσ_Iter8[Symbol.iterator] === "function") ? (ρσ_Iter8 instanceof Map ? ρσ_Iter8.keys() : ρσ_Iter8) : Object.keys(ρσ_Iter8));
        for (var ρσ_Index8 of ρσ_Iter8) {
            loop = ρσ_Index8;
            "430";
            var ρσ_Iter9 = loop;
            ρσ_Iter9 = ((typeof ρσ_Iter9[Symbol.iterator] === "function") ? (ρσ_Iter9 instanceof Map ? ρσ_Iter9.keys() : ρσ_Iter9) : Object.keys(ρσ_Iter9));
            for (var ρσ_Index9 of ρσ_Iter9) {
                block = ρσ_Index9;
                "431";
                if ((block.pos === check_pos || typeof block.pos === "object" && ρσ_equals(block.pos, check_pos))) {
                    "432";
                    return true;
                }
            }
        }
        "433";
        return false;
    };
    if (!checkBlockExists.__argnames__) Object.defineProperties(checkBlockExists, {
        __argnames__ : {value: ["check_pos"]},
        __module__ : {value: null}
    });

    "435";
    async function checkWireBlockExists(check_pos) {
        var ρσ_ls, block, wire;
        "436";
        "438";
        var ρσ_Iter10 = actualAllWires;
        ρσ_Iter10 = ((typeof ρσ_Iter10[Symbol.iterator] === "function") ? (ρσ_Iter10 instanceof Map ? ρσ_Iter10.keys() : ρσ_Iter10) : Object.keys(ρσ_Iter10));
        for (var ρσ_Index10 of ρσ_Iter10) {
            wire = ρσ_Index10;
            "439";
            var ρσ_Iter11 = wire;
            ρσ_Iter11 = ((typeof ρσ_Iter11[Symbol.iterator] === "function") ? (ρσ_Iter11 instanceof Map ? ρσ_Iter11.keys() : ρσ_Iter11) : Object.keys(ρσ_Iter11));
            for (var ρσ_Index11 of ρσ_Iter11) {
                block = ρσ_Index11;
                "440";
                if ((block.pos === check_pos || typeof block.pos === "object" && ρσ_equals(block.pos, check_pos))) {
                    "441";
                    return true;
                }
            }
        }
        "442";
        return false;
    };
    if (!checkWireBlockExists.__argnames__) Object.defineProperties(checkWireBlockExists, {
        __argnames__ : {value: ["check_pos"]},
        __module__ : {value: null}
    });

    "444";
    async function extend_circuit(direction, initial_pos) {
        var ρσ_ls, directList, firstBlock_pos, loop, currentDirection, blocks, lastBlockPos, juncPos, block, highlight, currentIndex;
        "445";
        if (circuitBuild) {
            "446";
            "447";
            "448";
            "449";
            "450";
            "452";
            directList = ρσ_list_decorate([ "UP", "RIGHT", "DOWN", "LEFT" ]);
            "454";
            firstBlock_pos = vector(initial_pos.pos.x, initial_pos.pos.y, initial_pos.pos.z);
            "456";
            if ((direction === "UP" || typeof direction === "object" && ρσ_equals(direction, "UP"))) {
                "457";
                firstBlock_pos = firstBlock_pos["+"](vector(sideLength, 0, 0));
                "458";
            } else if ((direction === "DOWN" || typeof direction === "object" && ρσ_equals(direction, "DOWN"))) {
                "459";
                firstBlock_pos = firstBlock_pos["+"](vector(1["-u"]()["*"](sideLength), 0, 0));
                "460";
            } else if ((direction === "LEFT" || typeof direction === "object" && ρσ_equals(direction, "LEFT"))) {
                "461";
                firstBlock_pos = firstBlock_pos["+"](vector(0, 0, 1["-u"]()["*"](sideLength)));
                "462";
            } else if ((direction === "RIGHT" || typeof direction === "object" && ρσ_equals(direction, "RIGHT"))) {
                "463";
                firstBlock_pos = firstBlock_pos["+"](vector(0, 0, sideLength));
            }
            "465";
            loop = ρσ_list_decorate([]);
            "466";
            currentDirection = direction;
            "471";
            while (ρσ_equals((await checkBlockExists(firstBlock_pos)), false) && ρσ_in((await findClosestBlock(initial_pos.pos)), allJunctions)) {
                "477";
                blocks = (await add_block_segment(firstBlock_pos, currentDirection, dimension, sideLength));
                "479";
                loop.extend(blocks);
                "481";
                lastBlockPos = ρσ_getitem(blocks, 1["-u"]()["*"](1)).pos;
                "484";
                if ((currentDirection === "UP" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "UP"))) {
                    "485";
                    juncPos = lastBlockPos["+"](vector(sideLength, 0, 0));
                    "486";
                } else if ((currentDirection === "DOWN" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "DOWN"))) {
                    "487";
                    juncPos = lastBlockPos["+"](vector(1["-u"]()["*"](sideLength), 0, 0));
                    "488";
                } else if ((currentDirection === "LEFT" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "LEFT"))) {
                    "489";
                    juncPos = lastBlockPos["+"](vector(0, 0, 1["-u"]()["*"](sideLength)));
                    "490";
                } else if ((currentDirection === "RIGHT" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "RIGHT"))) {
                    "491";
                    juncPos = lastBlockPos["+"](vector(0, 0, sideLength));
                    "494";
                }
                if (ρσ_equals((await checkBlockExists(juncPos)), false)) {
                    "495";
                    block = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: juncPos, length: sideLength, width: sideLength, height: sideLength, color: vector(.45, .8, .75)})]);
                    "496";
                    block.extend = currentDirection;
                    "497";
                    allJunctions.append(block);
                    "499";
                    highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: vector(.4, .7, 1), opacity: .6})]);
                    "500";
                    highlight.visible = false;
                    "501";
                    junctionHighlight.append(highlight);
                    "504";
                    if ((currentDirection === direction || typeof currentDirection === "object" && ρσ_equals(currentDirection, direction))) {
                        "505";
                        junctionList.append(block);
                    }
                    "506";
                    loop.append(block);
                    "507";
                } else {
                    "508";
                    block = (await blockAtPos(juncPos));
                }
                "517";
                currentIndex = directList.index(currentDirection);
                "518";
                currentDirection = ρσ_getitem(directList, currentIndex["+"](1)["%"](4));
                "521";
                if ((currentDirection === "UP" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "UP"))) {
                    "522";
                    firstBlock_pos = juncPos["+"](vector(sideLength, 0, 0));
                    "523";
                } else if ((currentDirection === "DOWN" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "DOWN"))) {
                    "524";
                    firstBlock_pos = juncPos["+"](vector(1["-u"]()["*"](sideLength), 0, 0));
                    "525";
                } else if ((currentDirection === "LEFT" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "LEFT"))) {
                    "526";
                    firstBlock_pos = juncPos["+"](vector(0, 0, 1["-u"]()["*"](sideLength)));
                    "527";
                } else if ((currentDirection === "RIGHT" || typeof currentDirection === "object" && ρσ_equals(currentDirection, "RIGHT"))) {
                    "528";
                    firstBlock_pos = juncPos["+"](vector(0, 0, sideLength));
                }
            }
            "532";
            allCircuitLoops.append(loop);
            "533";
            (await drawExtensionArrows());
            "539";
            if (len(junctionHighlight)[">"](0) && ρσ_getitem(junctionHighlight, 0).visible) {
                "540";
                (await showJunc());
                "542";
            }
            if (len(kvlLoops)[">"](0) && ρσ_getitem(kvlLoops, 0).visible) {
                "543";
                (await showKVL());
                "545";
            }
            if (len(wireHighlight)[">"](0) && ρσ_getitem(wireHighlight, 0).visible) {
                "546";
                (await showWires());
                "548";
            }
            if (specialMode) {
                "549";
                (await specialModeEnable());
            }
        }
    };
    if (!extend_circuit.__argnames__) Object.defineProperties(extend_circuit, {
        __argnames__ : {value: ["direction", "initial_pos"]},
        __module__ : {value: null}
    });

    "551";
    async function blockAtPos(position) {
        var ρσ_ls, block, loop;
        "552";
        "553";
        var ρσ_Iter12 = allCircuitLoops;
        ρσ_Iter12 = ((typeof ρσ_Iter12[Symbol.iterator] === "function") ? (ρσ_Iter12 instanceof Map ? ρσ_Iter12.keys() : ρσ_Iter12) : Object.keys(ρσ_Iter12));
        for (var ρσ_Index12 of ρσ_Iter12) {
            loop = ρσ_Index12;
            "554";
            var ρσ_Iter13 = loop;
            ρσ_Iter13 = ((typeof ρσ_Iter13[Symbol.iterator] === "function") ? (ρσ_Iter13 instanceof Map ? ρσ_Iter13.keys() : ρσ_Iter13) : Object.keys(ρσ_Iter13));
            for (var ρσ_Index13 of ρσ_Iter13) {
                block = ρσ_Index13;
                "555";
                if ((block.pos === position || typeof block.pos === "object" && ρσ_equals(block.pos, position))) {
                    "556";
                    return block;
                }
            }
        }
        "557";
        return "NO";
    };
    if (!blockAtPos.__argnames__) Object.defineProperties(blockAtPos, {
        __argnames__ : {value: ["position"]},
        __module__ : {value: null}
    });

    "558";
    scene.bind("click", handle_click);
    "560";
    async function euclideanDistance(pos_1, pos_2) {
        "561";
        return Math.pow((Math.pow((pos_1.x["-"](1["*"](pos_2.x))), 2)["+"](Math.pow((pos_1.y["-"](1["*"](pos_2.y))), 2))["+"](Math.pow((pos_1.z["-"](1["*"](pos_2.z))), 2))), .5);
    };
    if (!euclideanDistance.__argnames__) Object.defineProperties(euclideanDistance, {
        __argnames__ : {value: ["pos_1", "pos_2"]},
        __module__ : {value: null}
    });

    "563";
    async function findClosestJunc(current_pos) {
        var ρσ_ls, origin, closestBlock, minDist, distance, junction;
        "564";
        "565";
        origin = vector(0, 0, 0);
        "566";
        closestBlock = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene})]);
        "567";
        closestBlock.visible = false;
        "568";
        minDist = 1e16;
        "569";
        var ρσ_Iter14 = junctionList;
        ρσ_Iter14 = ((typeof ρσ_Iter14[Symbol.iterator] === "function") ? (ρσ_Iter14 instanceof Map ? ρσ_Iter14.keys() : ρσ_Iter14) : Object.keys(ρσ_Iter14));
        for (var ρσ_Index14 of ρσ_Iter14) {
            junction = ρσ_Index14;
            "570";
            distance = (await euclideanDistance(junction.pos, current_pos));
            "571";
            if (distance["<"](minDist)) {
                "572";
                closestBlock = junction;
                "573";
                minDist = distance;
            }
        }
        "574";
        return closestBlock;
    };
    if (!findClosestJunc.__argnames__) Object.defineProperties(findClosestJunc, {
        __argnames__ : {value: ["current_pos"]},
        __module__ : {value: null}
    });

    "576";
    async function junkCode(current_pos) {
        var ρσ_ls, origin, closestBlock, minDist, distance, junction;
        "577";
        "578";
        origin = vector(0, 0, 0);
        "579";
        closestBlock = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene})]);
        "580";
        closestBlock.visible = false;
        "581";
        minDist = 1e16;
        "582";
        var ρσ_Iter15 = allJunctions;
        ρσ_Iter15 = ((typeof ρσ_Iter15[Symbol.iterator] === "function") ? (ρσ_Iter15 instanceof Map ? ρσ_Iter15.keys() : ρσ_Iter15) : Object.keys(ρσ_Iter15));
        for (var ρσ_Index15 of ρσ_Iter15) {
            junction = ρσ_Index15;
            "583";
            distance = (await euclideanDistance(junction.pos, current_pos));
            "584";
            if (distance["<"](minDist)) {
                "585";
                closestBlock = junction;
                "586";
                minDist = distance;
            }
        }
        "587";
        return closestBlock;
    };
    if (!junkCode.__argnames__) Object.defineProperties(junkCode, {
        __argnames__ : {value: ["current_pos"]},
        __module__ : {value: null}
    });

    "589";
    async function findClosestBlock(current_pos) {
        var ρσ_ls, origin, closestBlock, minDist, distance, block, loop;
        "590";
        "591";
        origin = vector(0, 0, 0);
        "592";
        closestBlock = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene})]);
        "593";
        closestBlock.visible = false;
        "594";
        minDist = 1e16;
        "595";
        var ρσ_Iter16 = allCircuitLoops;
        ρσ_Iter16 = ((typeof ρσ_Iter16[Symbol.iterator] === "function") ? (ρσ_Iter16 instanceof Map ? ρσ_Iter16.keys() : ρσ_Iter16) : Object.keys(ρσ_Iter16));
        for (var ρσ_Index16 of ρσ_Iter16) {
            loop = ρσ_Index16;
            "596";
            var ρσ_Iter17 = loop;
            ρσ_Iter17 = ((typeof ρσ_Iter17[Symbol.iterator] === "function") ? (ρσ_Iter17 instanceof Map ? ρσ_Iter17.keys() : ρσ_Iter17) : Object.keys(ρσ_Iter17));
            for (var ρσ_Index17 of ρσ_Iter17) {
                block = ρσ_Index17;
                "597";
                distance = (await euclideanDistance(block.pos, current_pos));
                "598";
                if (distance["<"](minDist)) {
                    "599";
                    closestBlock = block;
                    "600";
                    minDist = distance;
                }
            }
        }
        "601";
        return closestBlock;
    };
    if (!findClosestBlock.__argnames__) Object.defineProperties(findClosestBlock, {
        __argnames__ : {value: ["current_pos"]},
        __module__ : {value: null}
    });

    "603";
    async function drawExtensionArrows() {
        var ρσ_ls, directions, ax, obj, junction;
        "604";
        "605";
        "606";
        "607";
        directions = ρσ_list_decorate([]);
        "608";
        var ρσ_Iter18 = junctionList;
        ρσ_Iter18 = ((typeof ρσ_Iter18[Symbol.iterator] === "function") ? (ρσ_Iter18 instanceof Map ? ρσ_Iter18.keys() : ρσ_Iter18) : Object.keys(ρσ_Iter18));
        for (var ρσ_Index18 of ρσ_Iter18) {
            junction = ρσ_Index18;
            "609";
            ax = vec(0, 0, 0);
            "610";
            if ((junction.extend === "UP" || typeof junction.extend === "object" && ρσ_equals(junction.extend, "UP"))) {
                "611";
                ax = vec(sideLength["*"](2), 0, 0);
                "612";
            } else if ((junction.extend === "DOWN" || typeof junction.extend === "object" && ρσ_equals(junction.extend, "DOWN"))) {
                "613";
                ax = vec(1["-u"]()["*"](1)["*"](sideLength)["*"](2), 0, 0);
                "614";
            } else if ((junction.extend === "RIGHT" || typeof junction.extend === "object" && ρσ_equals(junction.extend, "RIGHT"))) {
                "615";
                ax = vec(0, 0, sideLength["*"](2));
                "616";
            } else if ((junction.extend === "LEFT" || typeof junction.extend === "object" && ρσ_equals(junction.extend, "LEFT"))) {
                "617";
                ax = vec(0, 0, 1["-u"]()["*"](1)["*"](sideLength)["*"](2));
            }
            "618";
            obj = ρσ_interpolate_kwargs.call(this, arrow, [ρσ_desugar_kwargs({canvas: scene, pos: junction.pos, axis: ax, color: vector(.21, .82, .85)})]);
            "619";
            directions.append(junction.extend);
            "620";
            arrow.direction = junction.extend;
            "621";
            arrows.append(obj);
        }
    };
    if (!drawExtensionArrows.__module__) Object.defineProperties(drawExtensionArrows, {
        __module__ : {value: null}
    });

    "623";
    async function handle_click(event) {
        var ρσ_ls, matrix, kvlLoops, loop, currents, i, click_pos, testVector, block, highlight, highlightLabel;
        "624";
        "625";
        "626";
        "627";
        "628";
        "629";
        "630";
        "632";
        matrix = (await kclCalculate());
        "634";
        kvlLoops = (await kvlCalculate());
        "635";
        var ρσ_Iter19 = kvlLoops;
        ρσ_Iter19 = ((typeof ρσ_Iter19[Symbol.iterator] === "function") ? (ρσ_Iter19 instanceof Map ? ρσ_Iter19.keys() : ρσ_Iter19) : Object.keys(ρσ_Iter19));
        for (var ρσ_Index19 of ρσ_Iter19) {
            loop = ρσ_Index19;
            "636";
            matrix.append(loop);
        }
        "638";
        currents = (await rref(matrix));
        "640";
        extractedCurrents = ρσ_list_decorate([]);
        "642";
        var ρσ_Iter20 = range(len(actualAllWires));
        ρσ_Iter20 = ((typeof ρσ_Iter20[Symbol.iterator] === "function") ? (ρσ_Iter20 instanceof Map ? ρσ_Iter20.keys() : ρσ_Iter20) : Object.keys(ρσ_Iter20));
        for (var ρσ_Index20 of ρσ_Iter20) {
            i = ρσ_Index20;
            "643";
            extractedCurrents.append(ρσ_getitem(ρσ_getitem(currents, i), len(actualAllWires)));
            "645";
        }
        if (is_running) {
            "647";
            return;
        }
        "649";
        is_running = true;
        "650";
        try {
            "651";
            click_pos = event.pos;
            "652";
            testVector = vector(click_pos.x, 0, click_pos.z);
            "653";
            block = (await findClosestJunc(testVector));
            "656";
            (await extend_circuit(block.extend, block));
            "659";
            if ((circuitBuild === false || typeof circuitBuild === "object" && ρσ_equals(circuitBuild, false)) && len(allCircuitLoops)[">"](0)) {
                "660";
                block = (await findClosestBlock(testVector));
                "661";
                if (ρσ_not_equals((await findClosestBlock(testVector)), (await junkCode(testVector)))) {
                    "662";
                    highlight = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos, length: sideLength["*"](1.25), width: sideLength["*"](1.25), height: sideLength["*"](1.25), color: color.cyan, opacity: .6})]);
                    "663";
                    highlightBoxes.append(highlight);
                    "665";
                    if ((block.element === "EMF" || typeof block.element === "object" && ρσ_equals(block.element, "EMF"))) {
                        "666";
                        highlightLabel = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos["+"](vector(0, sideLength["*"](1.5), 0)), text: "Circuit Element: "["+"](ρσ_str.format("{}", block.element))["+"](" \n Wire: ")["+"](ρσ_str.format("{}", block.wir))["+"](" \n Current: ")["+"](ρσ_str.format("{}", round(ρσ_getitem(extractedCurrents, block.wir["-"](1)), 2)))["+"](" A \n Voltage: ")["+"](ρσ_str.format("{}", block.voltage))["+"](" V\n Resistance: 0 Ω"), xoffset: 25, yoffset: 0, space: 30, height: 16, border: 2, font: "sans"})]);
                        "673";
                    } else if ((block.element === "Resistor" || typeof block.element === "object" && ρσ_equals(block.element, "Resistor"))) {
                        "674";
                        highlightLabel = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos["+"](vector(0, sideLength["*"](1.5), 0)), text: "Circuit Element: "["+"](ρσ_str.format("{}", block.element))["+"](" \n Wire: ")["+"](ρσ_str.format("{}", block.wir))["+"](" \n Current: ")["+"](ρσ_str.format("{}", round(ρσ_getitem(extractedCurrents, block.wir["-"](1)), 2)))["+"](" A \n Voltage: ")["+"](ρσ_str.format("{}", round(block.resistance["*"](ρσ_getitem(extractedCurrents, block.wir["-"](1))), 2)))["+"](" V\n Resistance: ")["+"](ρσ_str.format("{}", block.resistance))["+"](" Ω"), xoffset: 25, yoffset: 0, space: 30, height: 16, border: 2, font: "sans"})]);
                        "681";
                    } else if ((block.element === "Wire" || typeof block.element === "object" && ρσ_equals(block.element, "Wire"))) {
                        "682";
                        highlightLabel = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({canvas: scene, pos: block.pos["+"](vector(0, sideLength["*"](1.5), 0)), text: "Circuit Element: "["+"](ρσ_str.format("{}", block.element))["+"](" \n Wire: ")["+"](ρσ_str.format("{}", block.wir))["+"](" \n Current: ")["+"](ρσ_str.format("{}", round(ρσ_getitem(extractedCurrents, block.wir["-"](1)), 2)))["+"](" A"), xoffset: 25, yoffset: 0, space: 30, height: 16, border: 2, font: "sans"})]);
                    }
                    "689";
                    wireHighlightLabels.append(highlightLabel);
                    "691";
                    if ((block.element === "EMF" || typeof block.element === "object" && ρσ_equals(block.element, "EMF"))) {
                        "692";
                        my_slider.value = abs(block.voltage);
                        "693";
                        val_text.text = "Current Value: "["+"](ρσ_str.format("{:.2f}", block.voltage))["+"](" V\n");
                        "694";
                    } else if ((block.element === "Resistor" || typeof block.element === "object" && ρσ_equals(block.element, "Resistor"))) {
                        "695";
                        my_slider.value = block.resistance;
                        "696";
                        val_text.text = "Current Value: "["+"](ρσ_str.format("{:.2f}", block.resistance))["+"](" Ω\n");
                        "697";
                    } else if ((block.element === "Wire" || typeof block.element === "object" && ρσ_equals(block.element, "Wire"))) {
                        "698";
                        my_slider.value = 0;
                        "699";
                        val_text.text = "Not Adjustable\n";
                        "701";
                    }
                }
                if (len(highlightBoxes)[">"](1)) {
                    "702";
                    ρσ_getitem(highlightBoxes, len(highlightBoxes)["-"](1["*"](2))).visible = false;
                    "703";
                    ρσ_getitem(wireHighlightLabels, len(wireHighlightLabels)["-"](1["*"](2))).visible = false;
                    "704";
                }
            } else {
                "705";
                if (len(highlightBoxes)[">"](1)) {
                    "706";
                    ρσ_getitem(highlightBoxes, len(highlightBoxes)["-"](1["*"](1))).visible = false;
                    "707";
                    ρσ_getitem(wireHighlightLabels, len(wireHighlightLabels)["-"](1["*"](1))).visible = false;
                    "708";
                }
            }
        } finally {
            "709";
            is_running = false;
        }
    };
    if (!handle_click.__argnames__) Object.defineProperties(handle_click, {
        __argnames__ : {value: ["event"]},
        __module__ : {value: null}
    });

    "712";
    async function adjustElementValue(s) {
        var ρσ_ls, elem;
        "713";
        "714";
        "716";
        if (!highlightBoxes) {
            "717";
            return;
        }
        "719";
        elem = (await findClosestBlock(ρσ_getitem(highlightBoxes, 1["-u"]()["*"](1)).pos));
        "720";
        if ((elem.element === "EMF" || typeof elem.element === "object" && ρσ_equals(elem.element, "EMF"))) {
            "721";
            if ((elem.flow === "posToNeg" || typeof elem.flow === "object" && ρσ_equals(elem.flow, "posToNeg"))) {
                "722";
                elem.voltage = s.value;
                "723";
            } else {
                "724";
                elem.voltage = 1["-u"]()["*"](1)["*"](s.value);
            }
            "725";
            val_text.text = "Current Value: "["+"](ρσ_str.format("{}", elem.voltage))["+"](" V\n");
            "726";
        } else if ((elem.element === "Resistor" || typeof elem.element === "object" && ρσ_equals(elem.element, "Resistor"))) {
            "727";
            elem.resistance = s.value;
            "728";
            val_text.text = "Current Value: "["+"](ρσ_str.format("{:.2f}", s.value))["+"](" Ω\n");
            "729";
        } else if ((elem.element === "Wire" || typeof elem.element === "object" && ρσ_equals(elem.element, "Wire"))) {
            "730";
            val_text.text = "Not Adjustable\n";
            "731";
        }
        if (wireHighlight && ρσ_getitem(wireHighlight, 0).visible) {
            "732";
            (await hideWires());
            "733";
            (await showWires());
        }
    };
    if (!adjustElementValue.__argnames__) Object.defineProperties(adjustElementValue, {
        __argnames__ : {value: ["s"]},
        __module__ : {value: null}
    });

    "736";
    async function is_adjacent_to_junction(block, junction, sideLength) {
        var ρσ_ls, dx, dz, dy;
        "737";
        dx = abs(block.pos.x["-"](1["*"](junction.pos.x)));
        "738";
        dz = abs(block.pos.z["-"](1["*"](junction.pos.z)));
        "739";
        dy = abs(block.pos.y["-"](1["*"](junction.pos.y)));
        "740";
        return (dy === 0 || typeof dy === "object" && ρσ_equals(dy, 0)) && ((dx === sideLength || typeof dx === "object" && ρσ_equals(dx, sideLength)) && (dz === 0 || typeof dz === "object" && ρσ_equals(dz, 0)) || (dz === sideLength || typeof dz === "object" && ρσ_equals(dz, sideLength)) && (dx === 0 || typeof dx === "object" && ρσ_equals(dx, 0)));
    };
    if (!is_adjacent_to_junction.__argnames__) Object.defineProperties(is_adjacent_to_junction, {
        __argnames__ : {value: ["block", "junction", "sideLength"]},
        __module__ : {value: null}
    });

    "745";
    async function find_closing_wire_group(new_wire_groups, all_wire_groups, all_junctions, sideLength) {
        var ρσ_ls, first_new_block, last_new_block, start_junction, end_junction, junction, found_at_start, found_at_end, block, group;
        "746";
        first_new_block = ρσ_getitem(ρσ_getitem(new_wire_groups, 0), 0);
        "747";
        last_new_block = ρσ_getitem(ρσ_getitem(new_wire_groups, 1["-u"]()["*"](1)), 1["-u"]()["*"](1));
        "748";
        start_junction = null;
        "749";
        end_junction = null;
        "750";
        var ρσ_Iter21 = all_junctions;
        ρσ_Iter21 = ((typeof ρσ_Iter21[Symbol.iterator] === "function") ? (ρσ_Iter21 instanceof Map ? ρσ_Iter21.keys() : ρσ_Iter21) : Object.keys(ρσ_Iter21));
        for (var ρσ_Index21 of ρσ_Iter21) {
            junction = ρσ_Index21;
            "751";
            if ((await is_adjacent_to_junction(first_new_block, junction, sideLength))) {
                "752";
                start_junction = junction;
                "753";
            }
            if ((await is_adjacent_to_junction(last_new_block, junction, sideLength))) {
                "754";
                end_junction = junction;
                "755";
            }
        }
        if (start_junction === null || end_junction === null) {
            "756";
            return null;
        }
        "758";
        var ρσ_Iter22 = all_wire_groups;
        ρσ_Iter22 = ((typeof ρσ_Iter22[Symbol.iterator] === "function") ? (ρσ_Iter22 instanceof Map ? ρσ_Iter22.keys() : ρσ_Iter22) : Object.keys(ρσ_Iter22));
        for (var ρσ_Index22 of ρσ_Iter22) {
            group = ρσ_Index22;
            "759";
            if (ρσ_in(group, new_wire_groups)) {
                "760";
                continue;
            }
            "761";
            found_at_start = false;
            "762";
            found_at_end = false;
            "763";
            var ρσ_Iter23 = group;
            ρσ_Iter23 = ((typeof ρσ_Iter23[Symbol.iterator] === "function") ? (ρσ_Iter23 instanceof Map ? ρσ_Iter23.keys() : ρσ_Iter23) : Object.keys(ρσ_Iter23));
            for (var ρσ_Index23 of ρσ_Iter23) {
                block = ρσ_Index23;
                "764";
                if ((await is_adjacent_to_junction(block, start_junction, sideLength))) {
                    "765";
                    found_at_start = true;
                    "766";
                }
                if ((await is_adjacent_to_junction(block, end_junction, sideLength))) {
                    "767";
                    found_at_end = true;
                    "768";
                }
            }
            if (found_at_start && found_at_end) {
                "769";
                return group;
            }
        }
        "770";
        return null;
    };
    if (!find_closing_wire_group.__argnames__) Object.defineProperties(find_closing_wire_group, {
        __argnames__ : {value: ["new_wire_groups", "all_wire_groups", "all_junctions", "sideLength"]},
        __module__ : {value: null}
    });

    "773";
    async function kvlCalculate() {
        var ρσ_ls, all_wire_groups, allKVL, listSize, kvl, kvlSum, wireNum, block, group, i, new_wire_groups, closing_group, kvl_loop, ρσ_unpack, count;
        "774";
        "775";
        "777";
        all_wire_groups = actualAllWires;
        "778";
        allKVL = ρσ_list_decorate([]);
        "780";
        listSize = len(actualAllWires)["+"](1);
        "782";
        kvl = ρσ_list_decorate([ 0 ])["*"](listSize);
        "783";
        kvlSum = 0;
        "785";
        var ρσ_Iter24 = actualAllWires.slice(0, 4);
        ρσ_Iter24 = ((typeof ρσ_Iter24[Symbol.iterator] === "function") ? (ρσ_Iter24 instanceof Map ? ρσ_Iter24.keys() : ρσ_Iter24) : Object.keys(ρσ_Iter24));
        for (var ρσ_Index24 of ρσ_Iter24) {
            group = ρσ_Index24;
            "786";
            var ρσ_Iter25 = group;
            ρσ_Iter25 = ((typeof ρσ_Iter25[Symbol.iterator] === "function") ? (ρσ_Iter25 instanceof Map ? ρσ_Iter25.keys() : ρσ_Iter25) : Object.keys(ρσ_Iter25));
            for (var ρσ_Index25 of ρσ_Iter25) {
                block = ρσ_Index25;
                "787";
                wireNum = (await getattr(block, "wir", null));
                "788";
                if (wireNum === null) {
                    "789";
                    continue;
                }
                "790";
                wireNum = int(wireNum);
                "792";
                if (ρσ_equals((await getattr(block, "element", "")), "Resistor")) {
                    "793";
                    ρσ_setitem(kvl, wireNum["-"](1["*"](1)), ρσ_getitem(kvl, wireNum["-"](1["*"](1)))["+"]((await getattr(block, "resistance", 0))));
                    "794";
                }
                if (ρσ_equals((await getattr(block, "element", "")), "EMF")) {
                    "796";
                    kvlSum=kvlSum["-"]((await getattr(block, "voltage", 0)));
                }
            }
        }
        "797";
        ρσ_setitem(kvl, 1["-u"]()["*"](1), kvlSum);
        "798";
        allKVL.append(kvl);
        "800";
        i = 4;
        "801";
        while (i["+"](2)["<"](len(actualAllWires))) {
            "802";
            new_wire_groups = ρσ_list_decorate([ ρσ_getitem(actualAllWires, i), ρσ_getitem(actualAllWires, i["+"](1)), ρσ_getitem(actualAllWires, i["+"](2)) ]);
            "803";
            closing_group = (await find_closing_wire_group(new_wire_groups, all_wire_groups, allJunctions, sideLength));
            "804";
            if (closing_group === null) {
                "806";
                i=i["+"](3);
                "807";
                continue;
            }
            "808";
            kvl_loop = new_wire_groups["+"](ρσ_list_decorate([ closing_group ]));
            "809";
            kvl = ρσ_list_decorate([ 0 ])["*"](listSize);
            "810";
            kvlSum = 0;
            "811";
            var ρσ_Iter26 = enumerate(kvl_loop);
            ρσ_Iter26 = ((typeof ρσ_Iter26[Symbol.iterator] === "function") ? (ρσ_Iter26 instanceof Map ? ρσ_Iter26.keys() : ρσ_Iter26) : Object.keys(ρσ_Iter26));
            for (var ρσ_Index26 of ρσ_Iter26) {
                ρσ_unpack = ρσ_Index26;
                count = ρσ_unpack[0];
                group = ρσ_unpack[1];
                "812";
                var ρσ_Iter27 = group;
                ρσ_Iter27 = ((typeof ρσ_Iter27[Symbol.iterator] === "function") ? (ρσ_Iter27 instanceof Map ? ρσ_Iter27.keys() : ρσ_Iter27) : Object.keys(ρσ_Iter27));
                for (var ρσ_Index27 of ρσ_Iter27) {
                    block = ρσ_Index27;
                    "813";
                    wireNum = (await getattr(block, "wir", null));
                    "814";
                    if (wireNum === null) {
                        "815";
                        continue;
                    }
                    "816";
                    wireNum = int(wireNum);
                    "817";
                    if ((count !== 3 && (typeof count !== "object" || ρσ_not_equals(count, 3)))) {
                        "818";
                        if (ρσ_equals((await getattr(block, "element", "")), "Resistor")) {
                            "819";
                            ρσ_setitem(kvl, wireNum["-"](1["*"](1)), ρσ_getitem(kvl, wireNum["-"](1["*"](1)))["+"]((await getattr(block, "resistance", 0))));
                            "820";
                        }
                        if (ρσ_equals((await getattr(block, "element", "")), "EMF")) {
                            "821";
                            kvlSum=kvlSum["+"]((await getattr(block, "voltage", 0)));
                            "822";
                        }
                    } else {
                        "823";
                        if (ρσ_equals((await getattr(block, "element", "")), "Resistor")) {
                            "824";
                            ρσ_setitem(kvl, wireNum["-"](1["*"](1)), ρσ_getitem(kvl, wireNum["-"](1["*"](1)))["-"]((await getattr(block, "resistance", 0))));
                            "825";
                        }
                        if (ρσ_equals((await getattr(block, "element", "")), "EMF")) {
                            "826";
                            kvlSum=kvlSum["+"]((await getattr(block, "voltage", 0)));
                        }
                    }
                }
            }
            "827";
            ρσ_setitem(kvl, 1["-u"]()["*"](1), kvlSum);
            "828";
            allKVL.append(kvl);
            "829";
            i=i["+"](3);
        }
        "831";
        return allKVL;
    };
    if (!kvlCalculate.__module__) Object.defineProperties(kvlCalculate, {
        __module__ : {value: null}
    });

    "834";
    async function kclCalculate() {
        var ρσ_ls, allKCLS, listSize, inWires, outWires, kcl, j, block, wire, i, junctionsToKCL, directsToCheck, findBlocks, juncPos, direct, junction;
        "835";
        "836";
        "837";
        "838";
        "840";
        allKCLS = ρσ_list_decorate([]);
        "843";
        listSize = len(actualAllWires)["+"](1);
        "845";
        for (var ρσ_Index28 = 0; ρσ_Index28["<"](4); ρσ_Index28++) {
            i = ρσ_Index28;
            "846";
            inWires = ρσ_list_decorate([]);
            "847";
            outWires = ρσ_list_decorate([]);
            "849";
            kcl = ρσ_list_decorate([]);
            "851";
            for (var ρσ_Index29 = 0; ρσ_Index29["<"](listSize); ρσ_Index29++) {
                j = ρσ_Index29;
                "852";
                kcl.append(0);
                "854";
            }
            if ((i === 0 || typeof i === "object" && ρσ_equals(i, 0))) {
                "855";
                inWires.append(4);
                "856";
                outWires.append(1);
                "857";
                if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 0).pos["+"](vector(1["-u"]()["*"](1)["*"](sideLength), 0, 0)))), "NO")) {
                    "858";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 0).pos["+"](vector(1["-u"]()["*"](1)["*"](sideLength), 0, 0))));
                    "859";
                    inWires.append(block.wir);
                    "860";
                } else if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 0).pos["+"](vector(0, 0, 1["-u"]()["*"](1)["*"](sideLength))))), "NO")) {
                    "861";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 0).pos["+"](vector(0, 0, 1["-u"]()["*"](1)["*"](sideLength)))));
                    "862";
                    outWires.append(block.wir);
                    "863";
                }
            } else if ((i === 1 || typeof i === "object" && ρσ_equals(i, 1))) {
                "864";
                inWires.append(1);
                "865";
                outWires.append(2);
                "866";
                if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 1).pos["+"](vector(0, 0, 1["-u"]()["*"](1)["*"](sideLength))))), "NO")) {
                    "867";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 1).pos["+"](vector(0, 0, 1["-u"]()["*"](1)["*"](sideLength)))));
                    "868";
                    inWires.append(block.wir);
                    "869";
                } else if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 1).pos["+"](vector(sideLength, 0, 0)))), "NO")) {
                    "870";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 1).pos["+"](vector(sideLength, 0, 0))));
                    "871";
                    outWires.append(block.wir);
                    "872";
                }
            } else if ((i === 2 || typeof i === "object" && ρσ_equals(i, 2))) {
                "873";
                inWires.append(2);
                "874";
                outWires.append(3);
                "875";
                if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 2).pos["+"](vector(sideLength, 0, 0)))), "NO")) {
                    "876";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 2).pos["+"](vector(sideLength, 0, 0))));
                    "877";
                    inWires.append(block.wir);
                    "878";
                } else if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 2).pos["+"](vector(0, 0, sideLength)))), "NO")) {
                    "879";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 2).pos["+"](vector(0, 0, sideLength))));
                    "880";
                    outWires.append(block.wir);
                    "881";
                }
            } else if ((i === 3 || typeof i === "object" && ρσ_equals(i, 3))) {
                "882";
                inWires.append(3);
                "883";
                outWires.append(4);
                "884";
                if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 3).pos["+"](vector(0, 0, sideLength)))), "NO")) {
                    "885";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 3).pos["+"](vector(0, 0, sideLength))));
                    "886";
                    inWires.append(block.wir);
                    "887";
                } else if (ρσ_not_equals((await blockAtPos(ρσ_getitem(allJunctions, 3).pos["+"](vector(1["-u"]()["*"](1)["*"](sideLength), 0, 0)))), "NO")) {
                    "888";
                    block = (await blockAtPos(ρσ_getitem(allJunctions, 3).pos["+"](vector(1["-u"]()["*"](1)["*"](sideLength), 0, 0))));
                    "889";
                    outWires.append(block.wir);
                }
            }
            "892";
            var ρσ_Iter30 = inWires;
            ρσ_Iter30 = ((typeof ρσ_Iter30[Symbol.iterator] === "function") ? (ρσ_Iter30 instanceof Map ? ρσ_Iter30.keys() : ρσ_Iter30) : Object.keys(ρσ_Iter30));
            for (var ρσ_Index30 of ρσ_Iter30) {
                wire = ρσ_Index30;
                "893";
                ρσ_setitem(kcl, wire["-"](1), 1["-u"]()["*"](1));
            }
            "894";
            var ρσ_Iter31 = outWires;
            ρσ_Iter31 = ((typeof ρσ_Iter31[Symbol.iterator] === "function") ? (ρσ_Iter31 instanceof Map ? ρσ_Iter31.keys() : ρσ_Iter31) : Object.keys(ρσ_Iter31));
            for (var ρσ_Index31 of ρσ_Iter31) {
                wire = ρσ_Index31;
                "895";
                ρσ_setitem(kcl, wire["-"](1), 1);
            }
            "896";
            allKCLS.append(kcl);
            "899";
        }
        if (len(allJunctions)[">"](4)) {
            "900";
            junctionsToKCL = allJunctions.slice(4);
            "901";
            var ρσ_Iter32 = junctionsToKCL;
            ρσ_Iter32 = ((typeof ρσ_Iter32[Symbol.iterator] === "function") ? (ρσ_Iter32 instanceof Map ? ρσ_Iter32.keys() : ρσ_Iter32) : Object.keys(ρσ_Iter32));
            for (var ρσ_Index32 of ρσ_Iter32) {
                junction = ρσ_Index32;
                "902";
                inWires = ρσ_list_decorate([]);
                "903";
                outWires = ρσ_list_decorate([]);
                "905";
                kcl = ρσ_list_decorate([]);
                "906";
                for (var ρσ_Index33 = 0; ρσ_Index33["<"](listSize); ρσ_Index33++) {
                    j = ρσ_Index33;
                    "907";
                    kcl.append(0);
                }
                "909";
                directsToCheck = ρσ_list_decorate([ vec(sideLength, 0, 0), vec(1["-u"]()["*"](1)["*"](sideLength), 0, 0), vec(0, 0, sideLength), vec(0, 0, 1["-u"]()["*"](1)["*"](sideLength)) ]);
                "910";
                findBlocks = ρσ_list_decorate([]);
                "912";
                juncPos = junction.pos;
                "914";
                var ρσ_Iter34 = directsToCheck;
                ρσ_Iter34 = ((typeof ρσ_Iter34[Symbol.iterator] === "function") ? (ρσ_Iter34 instanceof Map ? ρσ_Iter34.keys() : ρσ_Iter34) : Object.keys(ρσ_Iter34));
                for (var ρσ_Index34 of ρσ_Iter34) {
                    direct = ρσ_Index34;
                    "915";
                    if (ρσ_not_equals((await blockAtPos(juncPos["+"](direct))), "NO")) {
                        "916";
                        block = (await blockAtPos(juncPos["+"](direct)));
                        "917";
                        findBlocks.append(block);
                        "919";
                    }
                }
                if (juncPos.x["<"](ρσ_getitem(allJunctions, 0).pos.x)) {
                    "921";
                    if ((juncPos.z === ρσ_getitem(allJunctions, 0).pos.z || typeof juncPos.z === "object" && ρσ_equals(juncPos.z, ρσ_getitem(allJunctions, 0).pos.z))) {
                        "922";
                        var ρσ_Iter35 = findBlocks;
                        ρσ_Iter35 = ((typeof ρσ_Iter35[Symbol.iterator] === "function") ? (ρσ_Iter35 instanceof Map ? ρσ_Iter35.keys() : ρσ_Iter35) : Object.keys(ρσ_Iter35));
                        for (var ρσ_Index35 of ρσ_Iter35) {
                            block = ρσ_Index35;
                            "923";
                            if (block.pos.z[">"](juncPos.z)) {
                                "924";
                                inWires.append(block.wir);
                                "925";
                            } else if (block.pos.x["<"](juncPos.x)) {
                                "926";
                                inWires.append(block.wir);
                                "927";
                            } else if (block.pos.x[">"](juncPos.x)) {
                                "928";
                                outWires.append(block.wir);
                                "929";
                            }
                        }
                    } else if ((juncPos.z === ρσ_getitem(allJunctions, 3).pos.z || typeof juncPos.z === "object" && ρσ_equals(juncPos.z, ρσ_getitem(allJunctions, 3).pos.z))) {
                        "930";
                        var ρσ_Iter36 = findBlocks;
                        ρσ_Iter36 = ((typeof ρσ_Iter36[Symbol.iterator] === "function") ? (ρσ_Iter36 instanceof Map ? ρσ_Iter36.keys() : ρσ_Iter36) : Object.keys(ρσ_Iter36));
                        for (var ρσ_Index36 of ρσ_Iter36) {
                            block = ρσ_Index36;
                            "931";
                            if (block.pos.x[">"](juncPos.x)) {
                                "932";
                                inWires.append(block.wir);
                                "933";
                            } else if (block.pos.x["<"](juncPos.x)) {
                                "934";
                                outWires.append(block.wir);
                                "935";
                            } else if (block.pos.z["<"](juncPos.z)) {
                                "936";
                                outWires.append(block.wir);
                                "937";
                            }
                        }
                    }
                } else if (juncPos.x[">"](ρσ_getitem(allJunctions, 1).pos.x)) {
                    "939";
                    if ((juncPos.z === ρσ_getitem(allJunctions, 0).pos.z || typeof juncPos.z === "object" && ρσ_equals(juncPos.z, ρσ_getitem(allJunctions, 0).pos.z))) {
                        "940";
                        var ρσ_Iter37 = findBlocks;
                        ρσ_Iter37 = ((typeof ρσ_Iter37[Symbol.iterator] === "function") ? (ρσ_Iter37 instanceof Map ? ρσ_Iter37.keys() : ρσ_Iter37) : Object.keys(ρσ_Iter37));
                        for (var ρσ_Index37 of ρσ_Iter37) {
                            block = ρσ_Index37;
                            "941";
                            if (block.pos.x["<"](juncPos.x)) {
                                "942";
                                inWires.append(block.wir);
                                "943";
                            } else if (block.pos.x[">"](juncPos.x)) {
                                "944";
                                outWires.append(block.wir);
                                "945";
                            } else if (block.pos.z[">"](juncPos.z)) {
                                "946";
                                outWires.append(block.wir);
                                "947";
                            }
                        }
                    } else if ((juncPos.z === ρσ_getitem(allJunctions, 3).pos.z || typeof juncPos.z === "object" && ρσ_equals(juncPos.z, ρσ_getitem(allJunctions, 3).pos.z))) {
                        "948";
                        var ρσ_Iter38 = findBlocks;
                        ρσ_Iter38 = ((typeof ρσ_Iter38[Symbol.iterator] === "function") ? (ρσ_Iter38 instanceof Map ? ρσ_Iter38.keys() : ρσ_Iter38) : Object.keys(ρσ_Iter38));
                        for (var ρσ_Index38 of ρσ_Iter38) {
                            block = ρσ_Index38;
                            "949";
                            if (block.pos.x["<"](juncPos.x)) {
                                "950";
                                outWires.append(block.wir);
                                "951";
                            } else if (block.pos.x[">"](juncPos.x)) {
                                "952";
                                inWires.append(block.wir);
                                "953";
                            } else if (block.pos.z["<"](juncPos.z)) {
                                "954";
                                inWires.append(block.wir);
                                "955";
                            }
                        }
                    }
                } else if (juncPos.z["<"](ρσ_getitem(allJunctions, 0).pos.z)) {
                    "959";
                    if ((juncPos.x === ρσ_getitem(allJunctions, 0).pos.x || typeof juncPos.x === "object" && ρσ_equals(juncPos.x, ρσ_getitem(allJunctions, 0).pos.x))) {
                        "960";
                        var ρσ_Iter39 = findBlocks;
                        ρσ_Iter39 = ((typeof ρσ_Iter39[Symbol.iterator] === "function") ? (ρσ_Iter39 instanceof Map ? ρσ_Iter39.keys() : ρσ_Iter39) : Object.keys(ρσ_Iter39));
                        for (var ρσ_Index39 of ρσ_Iter39) {
                            block = ρσ_Index39;
                            "961";
                            if (block.pos.z[">"](juncPos.z)) {
                                "962";
                                inWires.append(block.wir);
                                "963";
                            } else if (block.pos.z["<"](juncPos.z)) {
                                "964";
                                outWires.append(block.wir);
                                "965";
                            } else if (block.pos.x[">"](juncPos.x)) {
                                "966";
                                outWires.append(block.wir);
                                "967";
                            }
                        }
                    } else if ((juncPos.x === ρσ_getitem(allJunctions, 1).pos.x || typeof juncPos.x === "object" && ρσ_equals(juncPos.x, ρσ_getitem(allJunctions, 1).pos.x))) {
                        "968";
                        var ρσ_Iter40 = findBlocks;
                        ρσ_Iter40 = ((typeof ρσ_Iter40[Symbol.iterator] === "function") ? (ρσ_Iter40 instanceof Map ? ρσ_Iter40.keys() : ρσ_Iter40) : Object.keys(ρσ_Iter40));
                        for (var ρσ_Index40 of ρσ_Iter40) {
                            block = ρσ_Index40;
                            "969";
                            if (block.pos.x["<"](juncPos.x)) {
                                "970";
                                inWires.append(block.wir);
                                "971";
                            } else if (block.pos.z["<"](juncPos.z)) {
                                "972";
                                inWires.append(block.wir);
                                "973";
                            } else if (block.pos.z[">"](juncPos.z)) {
                                "974";
                                outWires.append(block.wir);
                                "975";
                            }
                        }
                    }
                } else if (juncPos.z[">"](ρσ_getitem(allJunctions, 3).pos.z)) {
                    "977";
                    if ((juncPos.x === ρσ_getitem(allJunctions, 0).pos.x || typeof juncPos.x === "object" && ρσ_equals(juncPos.x, ρσ_getitem(allJunctions, 0).pos.x))) {
                        "978";
                        var ρσ_Iter41 = findBlocks;
                        ρσ_Iter41 = ((typeof ρσ_Iter41[Symbol.iterator] === "function") ? (ρσ_Iter41 instanceof Map ? ρσ_Iter41.keys() : ρσ_Iter41) : Object.keys(ρσ_Iter41));
                        for (var ρσ_Index41 of ρσ_Iter41) {
                            block = ρσ_Index41;
                            "979";
                            if (block.pos.x[">"](juncPos.x)) {
                                "980";
                                inWires.append(block.wir);
                                "981";
                            } else if (block.pos.z[">"](juncPos.z)) {
                                "982";
                                inWires.append(block.wir);
                                "983";
                            } else if (block.pos.z["<"](juncPos.z)) {
                                "984";
                                outWires.append(block.wir);
                                "985";
                            }
                        }
                    } else if ((juncPos.x === ρσ_getitem(allJunctions, 1).pos.x || typeof juncPos.x === "object" && ρσ_equals(juncPos.x, ρσ_getitem(allJunctions, 1).pos.x))) {
                        "986";
                        var ρσ_Iter42 = findBlocks;
                        ρσ_Iter42 = ((typeof ρσ_Iter42[Symbol.iterator] === "function") ? (ρσ_Iter42 instanceof Map ? ρσ_Iter42.keys() : ρσ_Iter42) : Object.keys(ρσ_Iter42));
                        for (var ρσ_Index42 of ρσ_Iter42) {
                            block = ρσ_Index42;
                            "987";
                            if (block.pos.z["<"](juncPos.z)) {
                                "988";
                                inWires.append(block.wir);
                                "989";
                            } else if (block.pos.z[">"](juncPos.z)) {
                                "990";
                                outWires.append(block.wir);
                                "991";
                            } else if (block.pos.x["<"](juncPos.x)) {
                                "992";
                                outWires.append(block.wir);
                            }
                        }
                    }
                }
                "994";
                var ρσ_Iter43 = inWires;
                ρσ_Iter43 = ((typeof ρσ_Iter43[Symbol.iterator] === "function") ? (ρσ_Iter43 instanceof Map ? ρσ_Iter43.keys() : ρσ_Iter43) : Object.keys(ρσ_Iter43));
                for (var ρσ_Index43 of ρσ_Iter43) {
                    wire = ρσ_Index43;
                    "995";
                    ρσ_setitem(kcl, wire["-"](1), 1["-u"]()["*"](1));
                }
                "996";
                var ρσ_Iter44 = outWires;
                ρσ_Iter44 = ((typeof ρσ_Iter44[Symbol.iterator] === "function") ? (ρσ_Iter44 instanceof Map ? ρσ_Iter44.keys() : ρσ_Iter44) : Object.keys(ρσ_Iter44));
                for (var ρσ_Index44 of ρσ_Iter44) {
                    wire = ρσ_Index44;
                    "997";
                    ρσ_setitem(kcl, wire["-"](1), 1);
                }
                "1000";
                allKCLS.append(kcl);
            }
        }
        "1003";
        return allKCLS;
    };
    if (!kclCalculate.__module__) Object.defineProperties(kclCalculate, {
        __module__ : {value: null}
    });

    "1005";
    async function swap_block(event) {
        var ρσ_ls, key, boxToSwap, emf, direction, orientation, wire, resistor;
        "1006";
        "1007";
        "1008";
        "1009";
        "1010";
        "1011";
        "1012";
        if (is_running) {
            "1014";
            return;
        }
        "1015";
        is_running = true;
        "1016";
        try {
            "1017";
            key = event.key;
            "1018";
            if ((circuitBuild === false || typeof circuitBuild === "object" && ρσ_equals(circuitBuild, false)) && len(highlightBoxes)[">"](0)) {
                "1019";
                boxToSwap = (await blockAtPos(ρσ_getitem(highlightBoxes, len(highlightBoxes)["-"](1["*"](1))).pos));
                "1021";
                if ((boxToSwap.pos === ρσ_getitem(ρσ_getitem(allCircuitLoops, 0), 1).pos || typeof boxToSwap.pos === "object" && ρσ_equals(boxToSwap.pos, ρσ_getitem(ρσ_getitem(allCircuitLoops, 0), 1).pos))) {
                    "1022";
                    return;
                    "1024";
                }
                if ((key === "s" || typeof key === "object" && ρσ_equals(key, "s"))) {
                    "1025";
                    var ρσ_Iter45 = allEMF;
                    ρσ_Iter45 = ((typeof ρσ_Iter45[Symbol.iterator] === "function") ? (ρσ_Iter45 instanceof Map ? ρσ_Iter45.keys() : ρσ_Iter45) : Object.keys(ρσ_Iter45));
                    for (var ρσ_Index45 of ρσ_Iter45) {
                        emf = ρσ_Index45;
                        "1026";
                        if ((ρσ_getitem(emf, 0).center === boxToSwap.pos || typeof ρσ_getitem(emf, 0).center === "object" && ρσ_equals(ρσ_getitem(emf, 0).center, boxToSwap.pos))) {
                            "1027";
                            ρσ_getitem(emf, 0).visible = false;
                            "1028";
                            ρσ_getitem(emf, 1).visible = false;
                            "1030";
                        }
                    }
                    if ((boxToSwap.element === "EMF" || typeof boxToSwap.element === "object" && ρσ_equals(boxToSwap.element, "EMF"))) {
                        "1031";
                        direction = ρσ_getitem(boxToSwap.directionIn, 0);
                        "1032";
                        orientation = boxToSwap.flow;
                        "1033";
                        if ((orientation === "posToNeg" || typeof orientation === "object" && ρσ_equals(orientation, "posToNeg"))) {
                            "1034";
                            orientation = "negToPos";
                            "1035";
                            boxToSwap.voltage = 1["-u"]()["*"](1)["*"](boxToSwap.voltage);
                            "1036";
                            boxToSwap.flow = "negToPos";
                            "1037";
                        } else {
                            "1038";
                            orientation = "posToNeg";
                            "1039";
                            boxToSwap.voltage = 1["-u"]()["*"](1)["*"](boxToSwap.voltage);
                            "1040";
                            boxToSwap.flow = "posToNeg";
                            "1041";
                        }
                        if (len(direction)[">"](1)) {
                            "1042";
                            direction = ρσ_getitem(direction, 1);
                        }
                        "1043";
                        (await draw_emf(boxToSwap, orientation, direction));
                        "1044";
                    }
                } else if ((key === "w" || typeof key === "object" && ρσ_equals(key, "w")) || (key === "s" || typeof key === "object" && ρσ_equals(key, "s")) || (key === "r" || typeof key === "object" && ρσ_equals(key, "r")) || (key === "e" || typeof key === "object" && ρσ_equals(key, "e"))) {
                    "1045";
                    var ρσ_Iter46 = allWires;
                    ρσ_Iter46 = ((typeof ρσ_Iter46[Symbol.iterator] === "function") ? (ρσ_Iter46 instanceof Map ? ρσ_Iter46.keys() : ρσ_Iter46) : Object.keys(ρσ_Iter46));
                    for (var ρσ_Index46 of ρσ_Iter46) {
                        wire = ρσ_Index46;
                        "1046";
                        if ((wire.center === boxToSwap.pos || typeof wire.center === "object" && ρσ_equals(wire.center, boxToSwap.pos))) {
                            "1047";
                            wire.visible = false;
                        }
                    }
                    "1049";
                    var ρσ_Iter47 = allEMF;
                    ρσ_Iter47 = ((typeof ρσ_Iter47[Symbol.iterator] === "function") ? (ρσ_Iter47 instanceof Map ? ρσ_Iter47.keys() : ρσ_Iter47) : Object.keys(ρσ_Iter47));
                    for (var ρσ_Index47 of ρσ_Iter47) {
                        emf = ρσ_Index47;
                        "1050";
                        if ((ρσ_getitem(emf, 0).center === boxToSwap.pos || typeof ρσ_getitem(emf, 0).center === "object" && ρσ_equals(ρσ_getitem(emf, 0).center, boxToSwap.pos))) {
                            "1051";
                            ρσ_getitem(emf, 0).visible = false;
                            "1052";
                            ρσ_getitem(emf, 1).visible = false;
                        }
                    }
                    "1054";
                    var ρσ_Iter48 = allResistors;
                    ρσ_Iter48 = ((typeof ρσ_Iter48[Symbol.iterator] === "function") ? (ρσ_Iter48 instanceof Map ? ρσ_Iter48.keys() : ρσ_Iter48) : Object.keys(ρσ_Iter48));
                    for (var ρσ_Index48 of ρσ_Iter48) {
                        resistor = ρσ_Index48;
                        "1055";
                        if ((resistor.center === boxToSwap.pos || typeof resistor.center === "object" && ρσ_equals(resistor.center, boxToSwap.pos))) {
                            "1056";
                            resistor.visible = false;
                            "1058";
                        }
                    }
                    if ((key === "w" || typeof key === "object" && ρσ_equals(key, "w"))) {
                        "1060";
                        boxToSwap.voltage = 0;
                        "1061";
                        boxToSwap.resistance = 0;
                        "1062";
                        boxToSwap.element = "Wire";
                        "1063";
                        direction = ρσ_getitem(boxToSwap.directionIn, 0);
                        "1064";
                        if (len(direction)[">"](1)) {
                            "1065";
                            direction = ρσ_getitem(direction, 1);
                        }
                        "1067";
                        (await draw_wire(boxToSwap, direction));
                        "1068";
                    } else if ((key === "r" || typeof key === "object" && ρσ_equals(key, "r"))) {
                        "1070";
                        boxToSwap.element = "Resistor";
                        "1071";
                        boxToSwap.resistance = 2;
                        "1072";
                        boxToSwap.voltage = 0;
                        "1073";
                        direction = ρσ_getitem(boxToSwap.directionIn, 0);
                        "1074";
                        if (len(direction)[">"](1)) {
                            "1075";
                            direction = ρσ_getitem(direction, 1);
                        }
                        "1076";
                        (await draw_resistor(boxToSwap, direction));
                        "1078";
                    } else if ((key === "e" || typeof key === "object" && ρσ_equals(key, "e"))) {
                        "1080";
                        boxToSwap.element = "EMF";
                        "1081";
                        boxToSwap.voltage = 10;
                        "1082";
                        boxToSwap.resistance = 0;
                        "1083";
                        boxToSwap.flow = "posToNeg";
                        "1084";
                        direction = ρσ_getitem(boxToSwap.directionIn, 0);
                        "1085";
                        orientation = "posToNeg";
                        "1086";
                        if (len(direction)[">"](1)) {
                            "1087";
                            direction = ρσ_getitem(direction, 1);
                            "1088";
                            orientation = "negToPos";
                        }
                        "1089";
                        (await draw_emf(boxToSwap, orientation, direction));
                        "1091";
                    }
                }
            }
        } finally {
            "1092";
            is_running = false;
            "1093";
            if (ρσ_getitem(wireHighlight, 0).visible) {
                "1094";
                (await hideWires());
                "1095";
                (await showWires());
                "1096";
            }
            if (len(highlightBoxes)[">"](1)) {
                "1097";
                ρσ_getitem(highlightBoxes, 1["-u"]()["*"](1)).visible = false;
                "1098";
            }
            if (len(wireHighlightLabels)[">"](1)) {
                "1099";
                ρσ_getitem(wireHighlightLabels, 1["-u"]()["*"](1)).visible = false;
            }
        }
    };
    if (!swap_block.__argnames__) Object.defineProperties(swap_block, {
        __argnames__ : {value: ["event"]},
        __module__ : {value: null}
    });

    "1103";
    scene.bind("keydown", swap_block);
    "1105";
    async function lockCircuit() {
        "1106";
        "1107";
        "1108";
        scene.userspin = true;
        "1110";
        if (is_running) {
            "1112";
            return;
        }
        "1113";
        is_running = true;
        "1114";
        try {
            "1115";
            circuitBuild = false;
            "1116";
        } finally {
            "1117";
            is_running = false;
        }
    };
    if (!lockCircuit.__module__) Object.defineProperties(lockCircuit, {
        __module__ : {value: null}
    });

    "1119";
    async function unlockCircuit() {
        "1120";
        "1121";
        "1124";
        ρσ_getitem(wireHighlightLabels, 1["-u"]()["*"](1)).visible = false;
        "1126";
        scene.userspin = false;
        "1127";
        scene.camera.pos = vec(1["-u"]()["*"](.486395), 610.798, 387329e-9);
        "1128";
        scene.camera.axis = vec(.486395, 1["-u"]()["*"](610.798), 1["-u"]()["*"](387329e-9));
        "1129";
        if (is_running) {
            "1131";
            return;
        }
        "1132";
        is_running = true;
        "1133";
        try {
            "1134";
            circuitBuild = true;
            "1135";
        } finally {
            "1136";
            is_running = false;
        }
    };
    if (!unlockCircuit.__module__) Object.defineProperties(unlockCircuit, {
        __module__ : {value: null}
    });

    "1138";
    async function showKVL() {
        var ρσ_ls, loop;
        "1139";
        "1140";
        var ρσ_Iter49 = kvlLoops;
        ρσ_Iter49 = ((typeof ρσ_Iter49[Symbol.iterator] === "function") ? (ρσ_Iter49 instanceof Map ? ρσ_Iter49.keys() : ρσ_Iter49) : Object.keys(ρσ_Iter49));
        for (var ρσ_Index49 of ρσ_Iter49) {
            loop = ρσ_Index49;
            "1141";
            loop.visible = true;
        }
    };
    if (!showKVL.__module__) Object.defineProperties(showKVL, {
        __module__ : {value: null}
    });

    "1143";
    async function hideKVL() {
        var ρσ_ls, loop;
        "1144";
        "1145";
        var ρσ_Iter50 = kvlLoops;
        ρσ_Iter50 = ((typeof ρσ_Iter50[Symbol.iterator] === "function") ? (ρσ_Iter50 instanceof Map ? ρσ_Iter50.keys() : ρσ_Iter50) : Object.keys(ρσ_Iter50));
        for (var ρσ_Index50 of ρσ_Iter50) {
            loop = ρσ_Index50;
            "1146";
            loop.visible = false;
        }
    };
    if (!hideKVL.__module__) Object.defineProperties(hideKVL, {
        __module__ : {value: null}
    });

    "1148";
    async function showJunc() {
        var ρσ_ls, junc;
        "1149";
        "1150";
        var ρσ_Iter51 = junctionHighlight;
        ρσ_Iter51 = ((typeof ρσ_Iter51[Symbol.iterator] === "function") ? (ρσ_Iter51 instanceof Map ? ρσ_Iter51.keys() : ρσ_Iter51) : Object.keys(ρσ_Iter51));
        for (var ρσ_Index51 of ρσ_Iter51) {
            junc = ρσ_Index51;
            "1151";
            junc.visible = true;
        }
    };
    if (!showJunc.__module__) Object.defineProperties(showJunc, {
        __module__ : {value: null}
    });

    "1153";
    async function hideJunc() {
        var ρσ_ls, junc;
        "1154";
        "1155";
        var ρσ_Iter52 = junctionHighlight;
        ρσ_Iter52 = ((typeof ρσ_Iter52[Symbol.iterator] === "function") ? (ρσ_Iter52 instanceof Map ? ρσ_Iter52.keys() : ρσ_Iter52) : Object.keys(ρσ_Iter52));
        for (var ρσ_Index52 of ρσ_Iter52) {
            junc = ρσ_Index52;
            "1156";
            junc.visible = false;
        }
    };
    if (!hideJunc.__module__) Object.defineProperties(hideJunc, {
        __module__ : {value: null}
    });

    "1158";
    async function findLabel(position) {
        var ρσ_ls, lab;
        "1159";
        "1160";
        var ρσ_Iter53 = wireLabels;
        ρσ_Iter53 = ((typeof ρσ_Iter53[Symbol.iterator] === "function") ? (ρσ_Iter53 instanceof Map ? ρσ_Iter53.keys() : ρσ_Iter53) : Object.keys(ρσ_Iter53));
        for (var ρσ_Index53 of ρσ_Iter53) {
            lab = ρσ_Index53;
            "1161";
            if ((lab.pos === position || typeof lab.pos === "object" && ρσ_equals(lab.pos, position))) {
                "1162";
                return int(lab.text);
            }
        }
        "1163";
        return "NO";
    };
    if (!findLabel.__argnames__) Object.defineProperties(findLabel, {
        __argnames__ : {value: ["position"]},
        __module__ : {value: null}
    });

    "1165";
    async function specialModeEnable() {
        var ρσ_ls, element, loop;
        "1166";
        "1167";
        "1168";
        specialMode = true;
        "1170";
        var ρσ_Iter54 = allCircuitLoops;
        ρσ_Iter54 = ((typeof ρσ_Iter54[Symbol.iterator] === "function") ? (ρσ_Iter54 instanceof Map ? ρσ_Iter54.keys() : ρσ_Iter54) : Object.keys(ρσ_Iter54));
        for (var ρσ_Index54 of ρσ_Iter54) {
            loop = ρσ_Index54;
            "1171";
            var ρσ_Iter55 = loop;
            ρσ_Iter55 = ((typeof ρσ_Iter55[Symbol.iterator] === "function") ? (ρσ_Iter55 instanceof Map ? ρσ_Iter55.keys() : ρσ_Iter55) : Object.keys(ρσ_Iter55));
            for (var ρσ_Index55 of ρσ_Iter55) {
                element = ρσ_Index55;
                "1172";
                element.texture = img_url;
            }
        }
    };
    if (!specialModeEnable.__module__) Object.defineProperties(specialModeEnable, {
        __module__ : {value: null}
    });

    "1174";
    async function specialModeDisable() {
        var ρσ_ls, element, loop;
        "1175";
        "1176";
        "1177";
        specialMode = false;
        "1179";
        var ρσ_Iter56 = allCircuitLoops;
        ρσ_Iter56 = ((typeof ρσ_Iter56[Symbol.iterator] === "function") ? (ρσ_Iter56 instanceof Map ? ρσ_Iter56.keys() : ρσ_Iter56) : Object.keys(ρσ_Iter56));
        for (var ρσ_Index56 of ρσ_Iter56) {
            loop = ρσ_Index56;
            "1180";
            var ρσ_Iter57 = loop;
            ρσ_Iter57 = ((typeof ρσ_Iter57[Symbol.iterator] === "function") ? (ρσ_Iter57 instanceof Map ? ρσ_Iter57.keys() : ρσ_Iter57) : Object.keys(ρσ_Iter57));
            for (var ρσ_Index57 of ρσ_Iter57) {
                element = ρσ_Index57;
                "1181";
                element.texture = null;
            }
        }
    };
    if (!specialModeDisable.__module__) Object.defineProperties(specialModeDisable, {
        __module__ : {value: null}
    });

    "1183";
    async function showWires() {
        var ρσ_ls, matrix, kvlLoops, loop, currents, extractedCurrents, i, wireCount, lab, ρσ_unpack, count, wire;
        "1184";
        "1185";
        "1186";
        "1187";
        (await hideWires());
        "1189";
        matrix = (await kclCalculate());
        "1191";
        kvlLoops = (await kvlCalculate());
        "1192";
        var ρσ_Iter58 = kvlLoops;
        ρσ_Iter58 = ((typeof ρσ_Iter58[Symbol.iterator] === "function") ? (ρσ_Iter58 instanceof Map ? ρσ_Iter58.keys() : ρσ_Iter58) : Object.keys(ρσ_Iter58));
        for (var ρσ_Index58 of ρσ_Iter58) {
            loop = ρσ_Index58;
            "1193";
            matrix.append(loop);
        }
        "1195";
        currents = (await rref(matrix));
        "1197";
        extractedCurrents = ρσ_list_decorate([]);
        "1199";
        var ρσ_Iter59 = range(len(actualAllWires));
        ρσ_Iter59 = ((typeof ρσ_Iter59[Symbol.iterator] === "function") ? (ρσ_Iter59 instanceof Map ? ρσ_Iter59.keys() : ρσ_Iter59) : Object.keys(ρσ_Iter59));
        for (var ρσ_Index59 of ρσ_Iter59) {
            i = ρσ_Index59;
            "1200";
            extractedCurrents.append(ρσ_getitem(ρσ_getitem(currents, i), len(actualAllWires)));
        }
        "1205";
        wireCount = 1;
        "1206";
        var ρσ_Iter60 = enumerate(wireHighlight);
        ρσ_Iter60 = ((typeof ρσ_Iter60[Symbol.iterator] === "function") ? (ρσ_Iter60 instanceof Map ? ρσ_Iter60.keys() : ρσ_Iter60) : Object.keys(ρσ_Iter60));
        for (var ρσ_Index60 of ρσ_Iter60) {
            ρσ_unpack = ρσ_Index60;
            count = ρσ_unpack[0];
            wire = ρσ_unpack[1];
            "1207";
            wire.visible = true;
            "1208";
            if (ρσ_equals(count["-"](1["*"](dimension["-"](1["*"](2)))["/"](2))["%"](dimension["-"](1["*"](2))), 0)) {
                "1209";
                lab = ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({canvas: scene, pos: wire.pos["+"](vector(0, sideLength["*"](1.5), 0)), text: "Wire "["+"](ρσ_str.format("{}", wireCount))["+"](" \n Current: ")["+"](ρσ_str.format("{}", round(ρσ_getitem(extractedCurrents, wireCount["-"](1)), 2)))["+"](" A"), xoffset: 0, yoffset: 0, space: 30, height: 16, border: 2, font: "sans"})]);
                "1217";
                wireLabels.append(lab);
                "1218";
                wireCount=wireCount["+"](1);
            }
        }
    };
    if (!showWires.__module__) Object.defineProperties(showWires, {
        __module__ : {value: null}
    });

    "1232";
    async function hideWires() {
        var ρσ_ls, wire, lab;
        "1233";
        "1234";
        "1235";
        "1237";
        var ρσ_Iter61 = wireHighlight;
        ρσ_Iter61 = ((typeof ρσ_Iter61[Symbol.iterator] === "function") ? (ρσ_Iter61 instanceof Map ? ρσ_Iter61.keys() : ρσ_Iter61) : Object.keys(ρσ_Iter61));
        for (var ρσ_Index61 of ρσ_Iter61) {
            wire = ρσ_Index61;
            "1238";
            wire.visible = false;
        }
        "1240";
        var ρσ_Iter62 = wireLabels;
        ρσ_Iter62 = ((typeof ρσ_Iter62[Symbol.iterator] === "function") ? (ρσ_Iter62 instanceof Map ? ρσ_Iter62.keys() : ρσ_Iter62) : Object.keys(ρσ_Iter62));
        for (var ρσ_Index62 of ρσ_Iter62) {
            lab = ρσ_Index62;
            "1241";
            lab.pos = vector(1e10, 1e10, 1e10);
            "1242";
            lab = undefined;
        }
    };
    if (!hideWires.__module__) Object.defineProperties(hideWires, {
        __module__ : {value: null}
    });

    "1244";
    line = "─".repeat(100)["+"]("\n");
    "1245";
    scene.append_to_caption("Note to user: When clicking specific blocks to see specific circuit elements, you may need to reclick to see updated values \n\n");
    "1246";
    scene.append_to_caption("Circuit Keybind Manipulation Instructions\n");
    "1247";
    scene.append_to_caption(line);
    "1249";
    scene.append_to_caption("Once the circuit building is disabled, you may click on blocks to adjust the circuit element:\n");
    "1250";
    scene.append_to_caption("[w] - Swap Element to Wire\n");
    "1251";
    scene.append_to_caption("[e] - Swap Element to EMF Device\n");
    "1252";
    scene.append_to_caption("[r] - Swap Element to Resistor\n");
    "1253";
    scene.append_to_caption("[s] - Swap Direction of EMF Device\n\n");
    "1255";
    scene.append_to_caption("Circuit Building Controls\n");
    "1257";
    scene.append_to_caption(line);
    "1258";
    scene.append_to_caption("Disable circuit building in order to enable manual swapping of circuit elements and voltages/resistance adjustments. You can do this by clicking on the blocks you wish to manipulate \n");
    "1259";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Disable Circuit Buliding", bind: lockCircuit})]);
    "1260";
    scene.append_to_caption("\n\n");
    "1261";
    scene.append_to_caption("Enable circuit building in order to extend the circuit (click on/near the extended arrows on the exterior circuit sides) \n");
    "1262";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Enable Circuit Building", bind: unlockCircuit})]);
    "1264";
    (await create_initial_circuit());
    "1266";
    scene.append_to_caption("\n\n");
    "1268";
    scene.append_to_caption("Visibility Controls:\n");
    "1269";
    scene.append_to_caption(line);
    "1270";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Show Junctions", bind: showJunc})]);
    "1271";
    scene.append_to_caption("  ");
    "1272";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Hide Junctions", bind: hideJunc})]);
    "1273";
    scene.append_to_caption("  ");
    "1274";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Show KVL Loops", bind: showKVL})]);
    "1275";
    scene.append_to_caption("  ");
    "1276";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Hide KVL Loops", bind: hideKVL})]);
    "1278";
    scene.append_to_caption("\n\n");
    "1280";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Show Wires and Currents", bind: showWires})]);
    "1281";
    scene.append_to_caption("    ");
    "1282";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Hide Wires and Currents", bind: hideWires})]);
    "1283";
    scene.append_to_caption("    ");
    "1284";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Sharaf Mode Enable", bind: specialModeEnable})]);
    "1285";
    scene.append_to_caption("    ");
    "1286";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({text: "Sharaf Mode Disable", bind: specialModeDisable})]);
    "1287";
    scene.append_to_caption("\n\n");
    "1291";
    scene.append_to_caption("Adjust resistance or voltage of selected element:\n");
    "1293";
    min_val = 1;
    "1294";
    max_val = 20;
    "1296";
    scene.append_to_caption(""["+"](ρσ_str.format("{}", min_val))["+"](" (magnitude)"));
    "1297";
    my_slider = ρσ_interpolate_kwargs.call(this, slider, [ρσ_desugar_kwargs({min: min_val, max: max_val, step: 1, bind: adjustElementValue})]);
    "1298";
    scene.append_to_caption(" "["+"](ρσ_str.format("{}", max_val))["+"](" (magnitude)\n"));
    "1299";
    val_text = ρσ_interpolate_kwargs.call(this, wtext, [ρσ_desugar_kwargs({text: "Current Value: "["+"](ρσ_str.format("{}", my_slider.value))["+"]("\n")})]);
    "1301";
    scene.append_to_caption("\n\n");
    "1305";
    async function scaleRow(matrix, rowIndex, scalar) {
        var ρσ_ls, ρσ_unpack, count, num;
        "1306";
        var ρσ_Iter63 = enumerate(ρσ_getitem(matrix, rowIndex));
        ρσ_Iter63 = ((typeof ρσ_Iter63[Symbol.iterator] === "function") ? (ρσ_Iter63 instanceof Map ? ρσ_Iter63.keys() : ρσ_Iter63) : Object.keys(ρσ_Iter63));
        for (var ρσ_Index63 of ρσ_Iter63) {
            ρσ_unpack = ρσ_Index63;
            count = ρσ_unpack[0];
            num = ρσ_unpack[1];
            "1307";
            ρσ_setitem(ρσ_getitem(matrix, rowIndex), count, num["*"](scalar));
        }
        "1308";
        return matrix;
    };
    if (!scaleRow.__argnames__) Object.defineProperties(scaleRow, {
        __argnames__ : {value: ["matrix", "rowIndex", "scalar"]},
        __module__ : {value: null}
    });

    "1310";
    async function interChangeRow(matrix, index1, index2) {
        var ρσ_ls, row1;
        "1311";
        row1 = ρσ_getitem(matrix, index1).slice(0);
        "1312";
        ρσ_setitem(matrix, index1, ρσ_getitem(matrix, index2));
        "1313";
        ρσ_setitem(matrix, index2, row1.slice(0));
        "1314";
        return matrix;
    };
    if (!interChangeRow.__argnames__) Object.defineProperties(interChangeRow, {
        __argnames__ : {value: ["matrix", "index1", "index2"]},
        __module__ : {value: null}
    });

    "1316";
    async function addRow(matrix, toMatrix, fromMatrix) {
        var ρσ_ls, ρσ_unpack, count, num;
        "1317";
        var ρσ_Iter64 = enumerate(ρσ_getitem(matrix, fromMatrix));
        ρσ_Iter64 = ((typeof ρσ_Iter64[Symbol.iterator] === "function") ? (ρσ_Iter64 instanceof Map ? ρσ_Iter64.keys() : ρσ_Iter64) : Object.keys(ρσ_Iter64));
        for (var ρσ_Index64 of ρσ_Iter64) {
            ρσ_unpack = ρσ_Index64;
            count = ρσ_unpack[0];
            num = ρσ_unpack[1];
            "1318";
            ρσ_setitem(ρσ_getitem(matrix, toMatrix), count, ρσ_getitem(ρσ_getitem(matrix, toMatrix), count)["+"](num));
        }
        "1319";
        return matrix;
    };
    if (!addRow.__argnames__) Object.defineProperties(addRow, {
        __argnames__ : {value: ["matrix", "toMatrix", "fromMatrix"]},
        __module__ : {value: null}
    });

    "1322";
    async function checkPivotOne(matrix, rowIndex) {
        var ρσ_ls, i;
        "1324";
        for (var ρσ_Index65 = 0; ρσ_Index65["<"](rowIndex); ρσ_Index65++) {
            i = ρσ_Index65;
            "1325";
            if ((ρσ_getitem(ρσ_getitem(matrix, rowIndex), i) !== 0 && (typeof ρσ_getitem(ρσ_getitem(matrix, rowIndex), i) !== "object" || ρσ_not_equals(ρσ_getitem(ρσ_getitem(matrix, rowIndex), i), 0)))) {
                "1326";
                return false;
            }
        }
        "1327";
        return (ρσ_getitem(ρσ_getitem(matrix, rowIndex), rowIndex) === 1 || typeof ρσ_getitem(ρσ_getitem(matrix, rowIndex), rowIndex) === "object" && ρσ_equals(ρσ_getitem(ρσ_getitem(matrix, rowIndex), rowIndex), 1));
    };
    if (!checkPivotOne.__argnames__) Object.defineProperties(checkPivotOne, {
        __argnames__ : {value: ["matrix", "rowIndex"]},
        __module__ : {value: null}
    });

    "1332";
    async function is_all_zero(row) {
        "1333";
        return (await all((function() {
            function* js_generator() {
                var ρσ_Iter = row, x;
                ρσ_Iter = ((typeof ρσ_Iter[Symbol.iterator] === "function") ? (ρσ_Iter instanceof Map ? ρσ_Iter.keys() : ρσ_Iter) : Object.keys(ρσ_Iter));
                for (var ρσ_Index of ρσ_Iter) {
                    x = ρσ_Index;
                    yield ((x === 0 || typeof x === "object" && ρσ_equals(x, 0)));
                }

            }
            var result = js_generator.call(this);
            result.send = result.next;
            return result;
        })()));
    };
    if (!is_all_zero.__argnames__) Object.defineProperties(is_all_zero, {
        __argnames__ : {value: ["row"]},
        __module__ : {value: null}
    });

    "1335";
    async function rref(matrix) {
        var ρσ_ls, rowCompleted, alreadyAdd, swapRow, originalRow, ρσ_unpack, count, row;
        "1336";
        rowCompleted = 0;
        "1337";
        while (rowCompleted["<"](len(matrix))) {
            "1338";
            if ((await is_all_zero(ρσ_getitem(matrix, len(matrix)["-"](1["*"](1)))))) {
                "1339";
                return matrix;
            }
            "1341";
            alreadyAdd = false;
            "1343";
            if (ρσ_equals(len(matrix), 1)) {
                "1344";
                return "Enter more than one row bro...";
                "1345";
            }
            if (rowCompleted[">"](len(ρσ_getitem(matrix, 0))["-"](1["*"](2)))) {
                "1346";
                return matrix.slice(0, rowCompleted);
                "1349";
            }
            if ((ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) !== 0 && (typeof ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) !== "object" || ρσ_not_equals(ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted), 0)))) {
                "1350";
                matrix = (await scaleRow(matrix, rowCompleted, 1["/"](ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted))));
                "1353";
            } else if ((ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) === 0 || typeof ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) === "object" && ρσ_equals(ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted), 0))) {
                "1354";
                swapRow = rowCompleted;
                "1355";
                while ((ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) === 0 || typeof ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) === "object" && ρσ_equals(ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted), 0))) {
                    "1356";
                    matrix = (await interChangeRow(matrix, rowCompleted, swapRow));
                    "1357";
                    swapRow=swapRow["+"](1);
                    "1358";
                    if (swapRow[">"](len(matrix))) {
                        "1359";
                        return "Ethan doesn't want to RREF this!";
                        "1361";
                    }
                }
                if ((ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) !== 0 && (typeof ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted) !== "object" || ρσ_not_equals(ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted), 0)))) {
                    "1362";
                    matrix = (await scaleRow(matrix, rowCompleted, 1["/"](ρσ_getitem(ρσ_getitem(matrix, rowCompleted), rowCompleted))));
                }
            }
            "1364";
            originalRow = ρσ_getitem(matrix, rowCompleted).slice(0);
            "1366";
            var ρσ_Iter66 = enumerate(matrix);
            ρσ_Iter66 = ((typeof ρσ_Iter66[Symbol.iterator] === "function") ? (ρσ_Iter66 instanceof Map ? ρσ_Iter66.keys() : ρσ_Iter66) : Object.keys(ρσ_Iter66));
            for (var ρσ_Index66 of ρσ_Iter66) {
                ρσ_unpack = ρσ_Index66;
                count = ρσ_unpack[0];
                row = ρσ_unpack[1];
                "1367";
                if ((count !== rowCompleted && (typeof count !== "object" || ρσ_not_equals(count, rowCompleted)))) {
                    "1368";
                    matrix = (await scaleRow(matrix, rowCompleted, 1["-u"]()["*"](1)["*"](ρσ_getitem(row, rowCompleted))));
                    "1369";
                    matrix = (await addRow(matrix, count, rowCompleted));
                    "1371";
                    ρσ_setitem(matrix, rowCompleted, originalRow.slice(0));
                }
            }
            "1373";
            rowCompleted=rowCompleted["+"](1);
        }
        "1375";
        return matrix;
    };
    if (!rref.__argnames__) Object.defineProperties(rref, {
        __argnames__ : {value: ["matrix"]},
        __module__ : {value: null}
    });

    "1379";
    async function setup_graph(title, ytitle, curve_color) {
        var ρσ_ls, g;
        "1380";
        g = ρσ_interpolate_kwargs.call(this, graph, [ρσ_desugar_kwargs({title: title, xtitle: "Time (s)", ytitle: ytitle})]);
        "1381";
        return ρσ_interpolate_kwargs.call(this, gcurve, [ρσ_desugar_kwargs({graph: g, color: curve_color})]);
    };
    if (!setup_graph.__argnames__) Object.defineProperties(setup_graph, {
        __argnames__ : {value: ["title", "ytitle", "curve_color"]},
        __module__ : {value: null}
    });

    "1386";
    scene1 = ρσ_interpolate_kwargs.call(this, canvas, [ρσ_desugar_kwargs({width: 1200, height: 600})]);
    "1387";
    scene1.circuit_built = false;
    "1388";
    scene1.dielectric_built = false;
    "1391";
    C1 = null;
    "1392";
    C2 = null;
    "1393";
    dielectric = null;
    "1394";
    wire_top = null;
    "1395";
    wire_bottom = null;
    "1396";
    plate_area = 1;
    "1397";
    plate_sep = .5;
    "1398";
    grid = 1;
    "1399";
    switch_closed = false;
    "1400";
    switch_wire = null;
    "1401";
    switch_gap = null;
    "1402";
    switch_arm = null;
    "1403";
    a1 = null;
    "1404";
    l1 = null;
    "1405";
    a2 = null;
    "1406";
    l2 = null;
    "1407";
    a3 = null;
    "1408";
    l3 = null;
    "1409";
    wire_top = null;
    "1410";
    wire_bottom = null;
    "1411";
    R = null;
    "1412";
    C = null;
    "1413";
    V = null;
    "1414";
    voltage_curve = null;
    "1415";
    current_curve = null;
    "1416";
    charge_curve = null;
    "1417";
    voltage_curve_r = null;
    "1418";
    current_curve_r = null;
    "1420";
    async function clear_previous_circuit() {
        "1421";
        "1422";
        if (C1) {
            "1423";
            C1.visible = false;
            "1424";
        }
        if (C2) {
            "1425";
            C2.visible = false;
            "1426";
        }
        if (dielectric) {
            "1427";
            dielectric.visible = false;
            "1428";
        }
        if (wire_top) {
            "1429";
            wire_top.visible = false;
            "1430";
        }
        if (wire_bottom) {
            "1431";
            wire_bottom.visible = false;
        }
        "1433";
        C1 = C2 = dielectric = wire_top = wire_bottom = null;
    };
    if (!clear_previous_circuit.__module__) Object.defineProperties(clear_previous_circuit, {
        __module__ : {value: null}
    });

    "1436";
    async function draw_circuit() {
        var include_dielectric = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? draw_circuit.__defaults__.include_dielectric : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "include_dielectric")){
            include_dielectric = ρσ_kwargs_obj.include_dielectric;
        }
        var ρσ_ls, wire_radius, comp_width, switch_y, battery1, switch_base, R3;
        "1437";
        "1438";
        (await clear_previous_circuit());
        "1440";
        wire_radius = .05;
        "1441";
        comp_width = .3;
        "1442";
        switch_y = 2["*"](grid);
        "1445";
        battery1 = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](6)["*"](grid), 0, 0), length: comp_width, height: 1.5["*"](grid), width: .1, color: color.red})]);
        "1446";
        ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: battery1.pos["+"](vector(0, 1["-u"]()["*"](1)["*"](grid), 0)), text: "ε₁", box: false})]);
        "1449";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](6)["*"](grid), .75["*"](grid), 0), axis: vector(0, 1.25["*"](grid), 0), radius: wire_radius})]);
        "1452";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](6)["*"](grid), 1["-u"]()["*"](2)["*"](grid), 0), axis: vector(0, 4["*"](grid), 0), radius: wire_radius})]);
        "1455";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](6)["*"](grid), 1["-u"]()["*"](2)["*"](grid), 0), axis: vector(6["*"](grid), 0, 0), radius: wire_radius})]);
        "1457";
        if ((switch_arm === null || typeof switch_arm === "object" && ρσ_equals(switch_arm, null))) {
            "1458";
            switch_base = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](2)["*"](grid), 2["*"](grid), 0), size: vector(.2["*"](grid), .05["*"](grid), .2["*"](grid)), color: color.gray(.5)})]);
            "1461";
            switch_arm = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](3)["*"](grid), 2["*"](grid), 0), axis: vector(1["*"](grid), 0, 0), radius: .05["*"](grid), color: color.yellow})]);
            "1462";
            ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](2)["*"](grid)["+"](.6["*"](grid)), 2["*"](grid), 0), axis: vector(1["*"](grid)["-"](1["*"](.6)["*"](grid)), 0, 0), radius: wire_radius})]);
        }
        "1465";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](6)["*"](grid), 2["*"](grid), 0), axis: vector(3["*"](grid), 0, 0), radius: wire_radius})]);
        "1466";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["-u"]()["*"](2)["*"](grid), 2["*"](grid), 0), axis: vector(2["*"](grid), 0, 0), radius: wire_radius})]);
        "1469";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(0, 2["*"](grid), 0), axis: vector(0, 1["-u"]()["*"](plate_sep)["-"](1["*"](.1)), 0), radius: wire_radius})]);
        "1470";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(0, 1["-u"]()["*"](2)["*"](grid), 0), axis: vector(0, plate_sep["+"](.1), 0), radius: wire_radius})]);
        "1473";
        ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: vector(0, 2.3["*"](grid), 0), text: "a", box: false})]);
        "1474";
        ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: vector(0, 1["-u"]()["*"](2.3)["*"](grid), 0), text: "b", box: false})]);
        "1477";
        C1 = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(0, plate_sep, 0), length: plate_area, height: .1, width: plate_area, color: color.green})]);
        "1478";
        C2 = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(0, 1["-u"]()["*"](plate_sep), 0), length: plate_area, height: .1, width: plate_area, color: color.green})]);
        "1481";
        wire_top = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(0, 2["*"](grid), 0), axis: vector(0, 1["-u"]()["*"](2)["*"](grid)["+"](plate_sep)["+"](.05), 0), radius: wire_radius})]);
        "1484";
        wire_bottom = ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(0, 1["-u"]()["*"](plate_sep)["-"](1["*"](.05)), 0), axis: vector(0, 1["-u"]()["*"](.95), 0), radius: wire_radius})]);
        "1489";
        R3 = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(4["*"](grid), 2["*"](grid), 0), length: 2["*"](grid), height: .3, width: .1, color: color.orange})]);
        "1492";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(1["*"](grid), 2["*"](grid), 0), axis: vector(5["*"](grid), 0, 0), radius: wire_radius})]);
        "1495";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(6["*"](grid), 1["-u"]()["*"](2)["*"](grid), 0), axis: vector(1["-u"]()["*"](6)["*"](grid), 0, 0), radius: wire_radius})]);
        "1498";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(6["*"](grid), 1["-u"]()["*"](2)["*"](grid), 0), axis: vector(0, 4["*"](grid), 0), radius: wire_radius})]);
        "1501";
        ρσ_interpolate_kwargs.call(this, cylinder, [ρσ_desugar_kwargs({pos: vector(0, 2["*"](grid), 0), axis: vector(1["*"](grid), 0, 0), radius: wire_radius})]);
        "1504";
        if (include_dielectric) {
            "1505";
            dielectric = ρσ_interpolate_kwargs.call(this, box, [ρσ_desugar_kwargs({pos: vector(0, 0, 0), length: C1.length, height: abs(C1.pos.y["-"](1["*"](C2.pos.y))), width: C1.width, opacity: .5, color: color.cyan})]);
            "1513";
            ρσ_interpolate_kwargs.call(this, label, [ρσ_desugar_kwargs({pos: dielectric.pos["+"](vector(.5, 0, 0)), text: "Dielectric", height: 10, box: false, color: color.cyan})]);
        }
    };
    if (!draw_circuit.__defaults__) Object.defineProperties(draw_circuit, {
        __defaults__ : {value: {include_dielectric:false}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["include_dielectric"]},
        __module__ : {value: null}
    });

    "1522";
    async function build_standard(evt) {
        "1524";
        if (!scene1.circuit_built) {
            "1525";
            scene1.circuit_built = true;
        }
        "1526";
        await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, draw_circuit, [ρσ_desugar_kwargs({include_dielectric: false})]));
        "1527";
    };
    if (!build_standard.__argnames__) Object.defineProperties(build_standard, {
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1546";
    async function build_dielectric(evt) {
        "1547";
        if (!scene1.dielectric_built) {
            "1548";
            scene1.dielectric_built = true;
        }
        "1549";
        await ρσ_list_decorate(ρσ_interpolate_kwargs.call(this, draw_circuit, [ρσ_desugar_kwargs({include_dielectric: true})]));
    };
    if (!build_dielectric.__argnames__) Object.defineProperties(build_dielectric, {
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1563";
    async function update_area(s) {
        "1564";
        "1565";
        plate_area = s.value["*"](s.value);
        "1566";
        if (C1 && C2) {
            "1567";
            C1.length = s.value;
            "1568";
            C1.width = s.value;
            "1569";
            C2.length = s.value;
            "1570";
            C2.width = s.value;
            "1571";
        }
        if (dielectric) {
            "1572";
            dielectric.length = s.value;
            "1573";
            dielectric.width = s.value;
        }
    };
    if (!update_area.__argnames__) Object.defineProperties(update_area, {
        __argnames__ : {value: ["s"]},
        __module__ : {value: null}
    });

    "1575";
    async function update_separation(s) {
        var ρσ_ls, sep;
        "1576";
        "1577";
        sep = s.value;
        "1578";
        plate_sep = sep["*"](2);
        "1580";
        if (C1 && C2) {
            "1582";
            C1.pos.y = sep;
            "1583";
            C2.pos.y = 1["-u"]()["*"](sep);
            "1585";
        }
        if (dielectric) {
            "1586";
            dielectric.height = abs(C1.pos.y["-"](1["*"](C2.pos.y)));
            "1587";
            dielectric.pos.y = C1.pos.y["+"](C2.pos.y)["/"](2);
            "1589";
        }
        if (wire_top && C1) {
            "1590";
            wire_top.pos = vector(C1.pos.x, C1.pos.y, C1.pos.z);
            "1591";
            wire_top.axis = vector(0, 2["-"](1["*"](sep)), 0);
            "1593";
        }
        if (wire_bottom && C2) {
            "1594";
            wire_bottom.pos = vector(C2.pos.x, C2.pos.y, C2.pos.z);
            "1595";
            wire_bottom.axis = vector(0, 1["-u"]()["*"](2)["+"](sep), 0);
        }
    };
    if (!update_separation.__argnames__) Object.defineProperties(update_separation, {
        __argnames__ : {value: ["s"]},
        __module__ : {value: null}
    });

    "1600";
    (await build_standard());
    "1602";
    scene1.append_to_caption("Note to User: Press this button to fill the capacitor plates with a dielectric.");
    "1603";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({canvas: scene1, text: "Build RC Circuit with Dielectric", bind: build_dielectric})]);
    "1605";
    scene1.append_to_caption("\n\nArea of Capacitor: ");
    "1606";
    slider_area = ρσ_interpolate_kwargs.call(this, slider, [ρσ_desugar_kwargs({canvas: scene1, bind: update_area, min: .2, max: 2, value: 1, step: .1})]);
    "1608";
    scene1.append_to_caption("\n\nSeparation Distance: ");
    "1609";
    plate_sep_slider = ρσ_interpolate_kwargs.call(this, slider, [ρσ_desugar_kwargs({canvas: scene1, bind: update_separation, min: .1, max: 1, value: plate_sep, step: .05})]);
    "1610";
    scene1.append_to_caption("\n\n");
    "1614";
    async function simulate_RC_data() {
        var ρσ_ls, plate_area_value, plate_sep_value, epsilon_0, epsilon_r, epsilon_r_dielectric, A, d, er, V0, q0, t, tFinal, dt, Vr, time_data, charge_data, current_data, voltage_data, voltage_data_r, current_data_r, q, i, Vt, ir;
        "1616";
        "1619";
        plate_area_value = plate_area;
        "1620";
        plate_sep_value = plate_sep;
        "1622";
        epsilon_0 = 8.85e-12;
        "1623";
        epsilon_r = 1;
        "1624";
        epsilon_r_dielectric = 4;
        "1625";
        A = plate_area_value;
        "1626";
        d = plate_sep_value;
        "1627";
        er = (scene1.dielectric_built) ? epsilon_r_dielectric : epsilon_r;
        "1628";
        C = epsilon_0["*"](er)["*"](A)["/"](d);
        "1630";
        R = 5;
        "1631";
        V = 10;
        "1633";
        V0 = V;
        "1634";
        q0 = C["*"](V0);
        "1635";
        t = 0;
        "1636";
        tFinal = 2e-9;
        "1637";
        dt = tFinal["/"](100);
        "1638";
        Vr = 0;
        "1640";
        time_data = ρσ_list_decorate([]);
        "1641";
        charge_data = ρσ_list_decorate([]);
        "1642";
        current_data = ρσ_list_decorate([]);
        "1643";
        voltage_data = ρσ_list_decorate([]);
        "1644";
        voltage_data_r = ρσ_list_decorate([]);
        "1645";
        current_data_r = ρσ_list_decorate([]);
        "1647";
        while (t["<"](tFinal)) {
            "1648";
            q = q0["*"](1["-"](1["*"](Math.pow((await euler()), (1["-u"]()["*"](t)["/"](R["*"](C)))))));
            "1649";
            i = 1["-u"]()["*"](q0)["/"](R["*"](C))["*"](Math.pow((await euler()), (1["-u"]()["*"](t)["/"](R["*"](C)))));
            "1650";
            Vt = V0["*"](Math.pow((await euler()), (1["-u"]()["*"](t)["/"](R["*"](C)))));
            "1652";
            Vr = V0["/"](R)["*"](Math.pow((await euler()), (1["-u"]()["*"](t)["/"](R["*"](C)))));
            "1653";
            ir = 1["-u"]()["*"](V0)["/"](R)["*"](Math.pow((await euler()), (1["-u"]()["*"](t)["/"](R["*"](C)))));
            "1655";
            time_data.append(t);
            "1656";
            charge_data.append(q);
            "1657";
            current_data.append(i);
            "1658";
            voltage_data.append(Vt);
            "1659";
            voltage_data_r.append(Vr);
            "1660";
            current_data_r.append(ir);
            "1662";
            t=t["+"](dt);
        }
        "1663";
        return [time_data, charge_data, current_data, voltage_data, voltage_data_r, current_data_r];
    };
    if (!simulate_RC_data.__module__) Object.defineProperties(simulate_RC_data, {
        __module__ : {value: null}
    });

    "1666";
    async function open_switch() {
        "1667";
        "1669";
        if (!switch_closed) {
            "1671";
            switch_arm.pos = vector(1["-u"]()["*"](2)["*"](grid), 2["*"](grid), 0);
            "1672";
            switch_arm.axis = vector(1["*"](grid), .4["*"](grid), 0);
            "1673";
        } else {
            "1675";
            switch_arm.pos = vector(1["-u"]()["*"](3)["*"](grid), 2["*"](grid), 0);
            "1676";
            switch_arm.axis = vector(1["*"](grid), 0, 0);
        }
    };
    if (!open_switch.__module__) Object.defineProperties(open_switch, {
        __module__ : {value: null}
    });

    "1678";
    async function close_switch_back() {
        "1679";
        "1681";
        if (switch_closed) {
            "1682";
            switch_arm.pos = vector(1["-u"]()["*"](2)["*"](grid), 2["*"](grid), 0);
            "1683";
            switch_arm.axis = vector(1["*"](grid), .4["*"](grid), 0);
            "1684";
        } else {
            "1686";
            switch_arm.pos = vector(1["-u"]()["*"](3)["*"](grid), 2["*"](grid), 0);
            "1687";
            switch_arm.axis = vector(1["*"](grid), 0, 0);
        }
    };
    if (!close_switch_back.__module__) Object.defineProperties(close_switch_back, {
        __module__ : {value: null}
    });

    "1689";
    async function update_graphs() {
        "1690";
        while (true) {
            "1691";
            clear();
            "1692";
            (await show_charge_graph());
            "1693";
            (await show_current_graph());
            "1694";
            (await show_voltage_graph());
            "1695";
            (await show_voltage_resistor_graph());
            "1696";
            (await rate(10));
        }
    };
    if (!update_graphs.__module__) Object.defineProperties(update_graphs, {
        __module__ : {value: null}
    });

    "1699";
    async function show_charge_graph() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? show_charge_graph.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        var ρσ_ls, plate_area_value, plate_sep_value, ρσ_unpack, time_data, charge_data, _, t, q;
        "1700";
        "1701";
        if (is_running) {
            "1703";
            return;
        }
        "1704";
        is_running = true;
        "1705";
        try {
            "1706";
            plate_area_value = slider_area.value;
            "1707";
            plate_sep_value = plate_sep_slider.value["*"](2);
            "1708";
            ρσ_unpack = (await simulate_RC_data());
ρσ_unpack = ρσ_unpack_asarray(4, ρσ_unpack);
            time_data = ρσ_unpack[0];
            charge_data = ρσ_unpack[1];
            _ = ρσ_unpack[2];
            _ = ρσ_unpack[3];
            "1710";
            if ((charge_curve === null || typeof charge_curve === "object" && ρσ_equals(charge_curve, null))) {
                "1711";
                charge_curve = (await setup_graph("Charge Capacitor vs Time", "Charge (C)", color.blue));
            }
            "1713";
            var ρσ_Iter67 = (await zip(time_data, charge_data));
            ρσ_Iter67 = ((typeof ρσ_Iter67[Symbol.iterator] === "function") ? (ρσ_Iter67 instanceof Map ? ρσ_Iter67.keys() : ρσ_Iter67) : Object.keys(ρσ_Iter67));
            for (var ρσ_Index67 of ρσ_Iter67) {
                ρσ_unpack = ρσ_Index67;
                t = ρσ_unpack[0];
                q = ρσ_unpack[1];
                "1714";
                (await rate(500));
                "1715";
                charge_curve.plot(t, q);
                "1716";
            }
        } finally {
            "1717";
            is_running = false;
        }
    };
    if (!show_charge_graph.__defaults__) Object.defineProperties(show_charge_graph, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1719";
    async function show_current_graph() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? show_current_graph.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        var ρσ_ls, plate_area_value, plate_sep_value, ρσ_unpack, time_data, _, current_data, t, i;
        "1720";
        "1721";
        if (is_running) {
            "1723";
            return;
        }
        "1724";
        is_running = true;
        "1725";
        try {
            "1726";
            plate_area_value = slider_area.value;
            "1727";
            plate_sep_value = plate_sep_slider.value["*"](2);
            "1728";
            ρσ_unpack = (await simulate_RC_data(plate_area_value, plate_sep_value));
ρσ_unpack = ρσ_unpack_asarray(4, ρσ_unpack);
            time_data = ρσ_unpack[0];
            _ = ρσ_unpack[1];
            current_data = ρσ_unpack[2];
            _ = ρσ_unpack[3];
            "1730";
            if ((current_curve === null || typeof current_curve === "object" && ρσ_equals(current_curve, null))) {
                "1731";
                current_curve = (await setup_graph("Current Capacitor vs Time", "Current (A)", color.red));
            }
            "1733";
            var ρσ_Iter68 = (await zip(time_data, current_data));
            ρσ_Iter68 = ((typeof ρσ_Iter68[Symbol.iterator] === "function") ? (ρσ_Iter68 instanceof Map ? ρσ_Iter68.keys() : ρσ_Iter68) : Object.keys(ρσ_Iter68));
            for (var ρσ_Index68 of ρσ_Iter68) {
                ρσ_unpack = ρσ_Index68;
                t = ρσ_unpack[0];
                i = ρσ_unpack[1];
                "1734";
                (await rate(500));
                "1735";
                current_curve.plot(t, i);
                "1736";
            }
        } finally {
            "1737";
            is_running = false;
        }
    };
    if (!show_current_graph.__defaults__) Object.defineProperties(show_current_graph, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1739";
    async function show_voltage_graph() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? show_voltage_graph.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        var ρσ_ls, plate_area_value, plate_sep_value, ρσ_unpack, time_data, _, voltage_data, t, V;
        "1740";
        "1741";
        if (is_running) {
            "1743";
            return;
        }
        "1744";
        is_running = true;
        "1745";
        try {
            "1746";
            plate_area_value = slider_area.value;
            "1747";
            plate_sep_value = plate_sep_slider.value["*"](2);
            "1748";
            ρσ_unpack = (await simulate_RC_data(plate_area_value, plate_sep_value));
ρσ_unpack = ρσ_unpack_asarray(4, ρσ_unpack);
            time_data = ρσ_unpack[0];
            _ = ρσ_unpack[1];
            _ = ρσ_unpack[2];
            voltage_data = ρσ_unpack[3];
            "1750";
            if ((voltage_curve === null || typeof voltage_curve === "object" && ρσ_equals(voltage_curve, null))) {
                "1751";
                voltage_curve = (await setup_graph("Voltage Capacitor vs Time", "Voltage (V)", color.green));
            }
            "1753";
            var ρσ_Iter69 = (await zip(time_data, voltage_data));
            ρσ_Iter69 = ((typeof ρσ_Iter69[Symbol.iterator] === "function") ? (ρσ_Iter69 instanceof Map ? ρσ_Iter69.keys() : ρσ_Iter69) : Object.keys(ρσ_Iter69));
            for (var ρσ_Index69 of ρσ_Iter69) {
                ρσ_unpack = ρσ_Index69;
                t = ρσ_unpack[0];
                V = ρσ_unpack[1];
                "1754";
                (await rate(500));
                "1755";
                voltage_curve.plot(t, V);
                "1756";
            }
        } finally {
            "1757";
            is_running = false;
        }
    };
    if (!show_voltage_graph.__defaults__) Object.defineProperties(show_voltage_graph, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1759";
    async function show_voltage_resistor_graph() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? show_voltage_resistor_graph.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        var ρσ_ls, plate_area_value, plate_sep_value, ρσ_unpack, time_data, _, voltage_data_r, t, Vr;
        "1760";
        "1761";
        if (is_running) {
            "1763";
            return;
        }
        "1764";
        is_running = true;
        "1765";
        try {
            "1766";
            plate_area_value = slider_area.value;
            "1767";
            plate_sep_value = plate_sep_slider.value["*"](2);
            "1768";
            ρσ_unpack = (await simulate_RC_data());
ρσ_unpack = ρσ_unpack_asarray(5, ρσ_unpack);
            time_data = ρσ_unpack[0];
            _ = ρσ_unpack[1];
            _ = ρσ_unpack[2];
            _ = ρσ_unpack[3];
            voltage_data_r = ρσ_unpack[4];
            "1771";
            if ((voltage_curve_r === null || typeof voltage_curve_r === "object" && ρσ_equals(voltage_curve_r, null))) {
                "1772";
                voltage_curve_r = (await setup_graph("Voltage Resistor vs Time", "Voltage (V)", color.orange));
            }
            "1774";
            var ρσ_Iter70 = (await zip(time_data, voltage_data_r));
            ρσ_Iter70 = ((typeof ρσ_Iter70[Symbol.iterator] === "function") ? (ρσ_Iter70 instanceof Map ? ρσ_Iter70.keys() : ρσ_Iter70) : Object.keys(ρσ_Iter70));
            for (var ρσ_Index70 of ρσ_Iter70) {
                ρσ_unpack = ρσ_Index70;
                t = ρσ_unpack[0];
                Vr = ρσ_unpack[1];
                "1775";
                (await rate(500));
                "1776";
                voltage_curve_r.plot(t, Vr);
                "1777";
            }
        } finally {
            "1778";
            is_running = false;
        }
    };
    if (!show_voltage_resistor_graph.__defaults__) Object.defineProperties(show_voltage_resistor_graph, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1780";
    async function show_current_resistor_graph() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? show_current_resistor_graph.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        var ρσ_ls, plate_area_value, plate_sep_value, ρσ_unpack, time_data, _, current_data_r, t, i;
        "1781";
        "1782";
        if (is_running) {
            "1784";
            return;
        }
        "1785";
        is_running = true;
        "1786";
        try {
            "1787";
            plate_area_value = slider_area.value;
            "1788";
            plate_sep_value = plate_sep_slider.value["*"](2);
            "1789";
            ρσ_unpack = (await simulate_RC_data(plate_area_value, plate_sep_value));
ρσ_unpack = ρσ_unpack_asarray(6, ρσ_unpack);
            time_data = ρσ_unpack[0];
            _ = ρσ_unpack[1];
            _ = ρσ_unpack[2];
            _ = ρσ_unpack[3];
            _ = ρσ_unpack[4];
            current_data_r = ρσ_unpack[5];
            "1791";
            if ((current_curve_r === null || typeof current_curve_r === "object" && ρσ_equals(current_curve_r, null))) {
                "1792";
                current_curve_r = (await setup_graph("Current Resistor vs Time", "Current (A)", color.red));
            }
            "1794";
            var ρσ_Iter71 = (await zip(time_data, current_data_r));
            ρσ_Iter71 = ((typeof ρσ_Iter71[Symbol.iterator] === "function") ? (ρσ_Iter71 instanceof Map ? ρσ_Iter71.keys() : ρσ_Iter71) : Object.keys(ρσ_Iter71));
            for (var ρσ_Index71 of ρσ_Iter71) {
                ρσ_unpack = ρσ_Index71;
                t = ρσ_unpack[0];
                i = ρσ_unpack[1];
                "1795";
                (await rate(500));
                "1796";
                current_curve_r.plot(t, i);
                "1797";
            }
        } finally {
            "1798";
            is_running = false;
        }
    };
    if (!show_current_resistor_graph.__defaults__) Object.defineProperties(show_current_resistor_graph, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1800";
    async function clear() {
        "1801";
        "1802";
        voltage_curve.remove();
        "1803";
        current_curve.remove();
        "1804";
        charge_curve.remove();
        "1805";
        voltage_curve_r.remove();
        "1806";
        current_curve_r.remove();
    };
    if (!clear.__module__) Object.defineProperties(clear, {
        __module__ : {value: null}
    });

    "1808";
    async function start_graphs() {
        var evt = (arguments[0] === undefined || ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [ρσ_kwargs_symbol] === true)) ? start_graphs.__defaults__.evt : arguments[0];
        var ρσ_kwargs_obj = arguments[arguments.length["-"](1)];
        if (ρσ_kwargs_obj === null || typeof ρσ_kwargs_obj !== "object" || ρσ_kwargs_obj [ρσ_kwargs_symbol] !== true) ρσ_kwargs_obj = {};
        if (Object.prototype.hasOwnProperty.call(ρσ_kwargs_obj, "evt")){
            evt = ρσ_kwargs_obj.evt;
        }
        "1809";
        clear();
        "1810";
        (await show_charge_graph());
        "1811";
        (await show_current_graph());
        "1812";
        (await show_voltage_graph());
        "1813";
        (await show_voltage_resistor_graph());
        "1814";
        (await show_current_resistor_graph());
    };
    if (!start_graphs.__defaults__) Object.defineProperties(start_graphs, {
        __defaults__ : {value: {evt:null}},
        __handles_kwarg_interpolation__ : {value: true},
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "1818";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({canvas: scene1, text: "Open Switch", bind: open_switch})]);
    "1819";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({canvas: scene1, text: "Close Switch", bind: close_switch_back})]);
    "1820";
    scene1.append_to_caption("\n");
    "1821";
    scene1.append_to_caption("Pressing the below button will show the graphs \n");
    "1822";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({canvas: scene1, text: "Start Graphs", bind: start_graphs})]);
    "1823";
    scene1.append_to_caption("\n");
    "1824";
    scene1.append_to_caption("Pressing the below button will reset the graphs. During this time, you may adjust the sliders \n");
    "1825";
    ρσ_interpolate_kwargs.call(this, button, [ρσ_desugar_kwargs({canvas: scene1, text: "Clear Graphs", bind: clear})]);
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>
